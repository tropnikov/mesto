!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{Y:function(){return jt}});var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},n=document.querySelector(".button_type_edit"),r=document.querySelector(".profile-edit__form"),i=r.querySelector("[name='name']"),o=r.querySelector("[name='bio']"),a=document.querySelector(".button_type_add"),l=document.querySelector(".place-add__form"),u=(document.querySelector(".button_type_delete"),document.querySelector(".profile__avatar")),c=document.querySelector(".avatar-update__form");function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,p(e,t,"get"))}function d(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,p(e,t,"set"),n),n}function p(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var h=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,b=new WeakMap,m=new WeakMap,k=new WeakMap,g=new WeakMap,_=new WeakMap,S=new WeakMap,E=new WeakMap,W=new WeakMap,M=new WeakMap,O=new WeakMap,C=new WeakMap,L=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),_.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:function(e){e.validity.valid?f(r,W).call(r,e):f(r,E).call(r,e,e.validationMessage)}}),E.set(this,{writable:!0,value:function(e,t){var n=f(r,k).querySelector(".".concat(e.id,"-error"));e.classList.add(f(r,b)),n.textContent=t,n.classList.add(f(r,m))}}),W.set(this,{writable:!0,value:function(e){var t=f(r,k).querySelector(".".concat(e.id,"-error"));e.classList.remove(f(r,b)),t.classList.remove(f(r,m)),t.textContent=""}}),s(this,"hideError",(function(){f(r,g).forEach((function(e){f(r,W).call(r,e),f(r,O).call(r)}))})),M.set(this,{writable:!0,value:function(){f(r,O).call(r),f(r,g).forEach((function(e){e.addEventListener("input",(function(){f(r,S).call(r,e),f(r,O).call(r)}))}))}}),O.set(this,{writable:!0,value:function(){f(r,C).call(r)?(f(r,_).classList.add(f(r,w)),f(r,_).setAttribute("disabled",!0)):(f(r,_).classList.remove(f(r,w)),f(r,_).removeAttribute("disabled"))}}),C.set(this,{writable:!0,value:function(){return f(r,g).some((function(e){return!e.validity.valid}))}}),s(this,"enableValidation",(function(){f(r,k).addEventListener("submit",(function(e){e.preventDefault(),f(r,O).call(r)})),f(r,M).call(r)})),d(this,h,t.formSelector),d(this,v,t.inputSelector),d(this,y,t.submitButtonSelector),d(this,w,t.inactiveButtonClass),d(this,b,t.inputErrorClass),d(this,m,t.errorClass),d(this,k,n),d(this,g,Array.from(f(this,k).querySelectorAll(f(this,v)))),d(this,_,f(this,k).querySelector(f(this,y)))};function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,q(e,t,"get"))}function P(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,q(e,t,"set"),n),n}function q(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var R=new WeakMap,I=new WeakMap,x=new WeakMap,A=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),R.set(this,{writable:!0,value:void 0}),I.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),P(this,I,r),P(this,x,document.querySelector(n))}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){j(t,I).call(t,e)}))}},{key:"addItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?j(this,x).append(e):j(this,x).prepend(e)}}])&&T(t.prototype,n),e}();function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function U(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,H(e,t,"get"))}function N(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,H(e,t,"set"),n),n}function H(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var V=new WeakMap,J=new WeakMap,F=new WeakMap,z=new WeakMap,Y=new WeakMap,G=new WeakMap,K=new WeakMap,Q=new WeakMap,X=new WeakMap,Z=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,oe=new WeakSet,ae=new WeakSet,le=new WeakSet,ue=function(){function e(t){var n=t.data,r=t.templateSelector,i=t.handleCardClick,o=t.handleCardDelete,a=t.handleCardLike;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),le.add(this),ae.add(this),oe.add(this),V.set(this,{writable:!0,value:void 0}),J.set(this,{writable:!0,value:void 0}),F.set(this,{writable:!0,value:void 0}),z.set(this,{writable:!0,value:void 0}),Y.set(this,{writable:!0,value:void 0}),G.set(this,{writable:!0,value:void 0}),K.set(this,{writable:!0,value:void 0}),Q.set(this,{writable:!0,value:void 0}),X.set(this,{writable:!0,value:void 0}),Z.set(this,{writable:!0,value:void 0}),$.set(this,{writable:!0,value:void 0}),ee.set(this,{writable:!0,value:void 0}),te.set(this,{writable:!0,value:void 0}),ne.set(this,{writable:!0,value:void 0}),re.set(this,{writable:!0,value:void 0}),ie.set(this,{writable:!0,value:void 0}),N(this,V,n.name),N(this,J,n.link),N(this,Z,n.owner._id),N(this,ee,n._id),N(this,te,n.likes),N(this,X,n.likes.length),N(this,F,r),N(this,Q,i),N(this,$,o),N(this,ne,a),N(this,ie,n)}var t,n;return t=e,(n=[{key:"getCardId",value:function(){return U(this,ee)}},{key:"isLiked",value:function(){return U(this,re)}},{key:"setLike",value:function(e){U(this,z).querySelector(".place__likes-count").textContent=e.likes.length,N(this,re,e.likes.some((function(e){return e._id===jt}))),U(this,re)?U(this,G).classList.add("place__like_active"):U(this,G).classList.remove("place__like_active")}},{key:"createCard",value:function(){return N(this,z,B(this,oe,ce).call(this)),N(this,K,U(this,z).querySelector(".place__photo")),U(this,K).src=U(this,J),U(this,K).alt=U(this,V),U(this,z).querySelector(".place__title").innerText=U(this,V),N(this,Y,U(this,z).querySelector(".place__delete")),N(this,G,U(this,z).querySelector(".place__like")),this.setLike(U(this,ie)),U(this,Z)===jt&&U(this,Y).classList.remove("place__delete_active"),B(this,ae,se).call(this),U(this,z)}},{key:"deleteCard",value:function(){U(this,z).remove()}}])&&D(t.prototype,n),e}();function ce(){return document.querySelector(U(this,F)).content.querySelector(".place").cloneNode(!0)}function se(){var e=this;U(this,Y).addEventListener("click",(function(){U(e,$).call(e,e)})),U(this,G).addEventListener("click",(function(){U(e,ne).call(e,e)})),U(this,K).addEventListener("click",(function(){U(e,Q).call(e,U(e,V),U(e,J))}))}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,pe(e,t,"get"))}function pe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var he=new WeakMap,ve=new WeakMap,ye=function(){function e(t){var n,r,i,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),he.set(this,{writable:!0,value:void 0}),ve.set(this,{writable:!0,value:function(e){"Escape"===e.key&&o.close()}}),n=this,r=he,i=document.querySelector(t),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(n,pe(n,r,"set"),i)}var t,n;return t=e,(n=[{key:"open",value:function(){de(this,he).classList.add("popup_opened"),document.addEventListener("keydown",de(this,ve))}},{key:"close",value:function(){de(this,he).classList.remove("popup_opened"),document.removeEventListener("keydown",de(this,ve))}},{key:"setEventListeners",value:function(){var e=this;de(this,he).querySelector(".popup__close").addEventListener("click",(function(){e.close()})),de(this,he).addEventListener("click",(function(t){t.target===t.currentTarget&&e.close()}))}}])&&fe(t.prototype,n),e}();function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t,n){return(me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Se(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Me(e,t,"get"))}function We(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Me(e,t,"set"),n),n}function Me(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Oe=new WeakMap,Ce=new WeakMap,Le=new WeakMap,Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Se(r);if(i){var n=Se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ge(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),Oe.set(_e(t),{writable:!0,value:void 0}),Ce.set(_e(t),{writable:!0,value:void 0}),Le.set(_e(t),{writable:!0,value:void 0}),We(_e(t),Oe,document.querySelector(e)),We(_e(t),Ce,Ee(_e(t),Oe).querySelector(".place-full-photo__image")),We(_e(t),Le,Ee(_e(t),Oe).querySelector(".place-full-photo__caption")),t}return t=a,(n=[{key:"open",value:function(e,t){Ee(this,Ce).src=t,Ee(this,Ce).alt=e,Ee(this,Le).textContent=e,me(Se(a.prototype),"open",this).call(this)}}])&&be(t.prototype,n),a}(ye);function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return(qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ae(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?xe(e):t}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ue(e,t,"get"))}function Be(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ue(e,t,"set"),n),n}function Ue(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ne=new WeakMap,He=new WeakMap,Ve=new WeakMap,Je=new WeakMap,Fe=new WeakMap,ze=new WeakMap,Ye=new WeakSet,Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ae(r);if(i){var n=Ae(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ie(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=o.call(this,e),Ye.add(xe(n)),Ne.set(xe(n),{writable:!0,value:void 0}),He.set(xe(n),{writable:!0,value:void 0}),Ve.set(xe(n),{writable:!0,value:void 0}),Je.set(xe(n),{writable:!0,value:void 0}),Fe.set(xe(n),{writable:!0,value:void 0}),ze.set(xe(n),{writable:!0,value:void 0}),Be(xe(n),Je,document.querySelector(e)),Be(xe(n),Ne,t),Be(xe(n),Fe,De(xe(n),Je).querySelector(".form")),Be(xe(n),Ve,De(xe(n),Je).querySelectorAll(".form__input")),Be(xe(n),ze,De(xe(n),Je).querySelector(".button_type_save")),n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;De(this,Fe).addEventListener("submit",(function(t){t.preventDefault(),De(e,Ne).call(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(e,Ye,Ke).call(e))})),qe(Ae(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){qe(Ae(a.prototype),"close",this).call(this),De(this,Fe).reset()}},{key:"renderLoading",value:function(e){De(this,ze).textContent=e?"Сохранение...":"Сохранить"}}])&&Pe(t.prototype,n),a}(ye);function Ke(){var e=this;return Be(this,He,{}),De(this,Ve).forEach((function(t){De(e,He)[t.name]=t.value})),De(this,He)}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,$e(e,t,"get"))}function Ze(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,$e(e,t,"set"),n),n}function $e(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakMap,it=new WeakMap,ot=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),et.set(this,{writable:!0,value:void 0}),tt.set(this,{writable:!0,value:void 0}),nt.set(this,{writable:!0,value:void 0}),rt.set(this,{writable:!0,value:void 0}),it.set(this,{writable:!0,value:void 0}),Ze(this,et,document.querySelector(t.profileNameSelector)),Ze(this,tt,document.querySelector(t.profileBioSelector)),Ze(this,nt,document.querySelector(t.profileAvatarSelector))}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:Xe(this,et).textContent,bio:Xe(this,tt).textContent,avatar:Xe(this,nt).style.backgroundImage}}},{key:"setUserInfo",value:function(e){Xe(this,et).textContent=e.name,Xe(this,tt).textContent=e.bio}},{key:"setAvatar",value:function(e){Xe(this,nt).style.backgroundImage="url("+"".concat(e.avatar)+")"}}])&&Qe(t.prototype,n),e}();function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ct(e,t,"get"))}function ut(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ct(e,t,"set"),n),n}function ct(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var st=new WeakMap,ft=new WeakMap,dt=new WeakMap,pt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),st.set(this,{writable:!0,value:void 0}),ft.set(this,{writable:!0,value:void 0}),dt.set(this,{writable:!0,value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}),ut(this,st,t.baseUrl),ut(this,ft,t.headers)}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(lt(this,st)+"/cards",{headers:lt(this,ft)}).then(lt(this,dt))}},{key:"getUserData",value:function(){return fetch(lt(this,st)+"/users/me",{headers:lt(this,ft)}).then(lt(this,dt))}},{key:"saveUserData",value:function(e){return fetch(lt(this,st)+"/users/me",{method:"PATCH",headers:lt(this,ft),body:JSON.stringify({name:e.name,about:e.bio})}).then(lt(this,dt))}},{key:"addNewCard",value:function(e){return fetch(lt(this,st)+"/cards",{method:"POST",headers:lt(this,ft),body:JSON.stringify({name:e.name,link:e.link})}).then(lt(this,dt))}},{key:"deleteCard",value:function(e){return fetch(lt(this,st)+"/cards/".concat(e),{method:"DELETE",headers:lt(this,ft)}).then(lt(this,dt))}},{key:"likeCard",value:function(e){return fetch(lt(this,st)+"/cards/likes/".concat(e),{method:"PUT",headers:lt(this,ft)}).then(lt(this,dt))}},{key:"dislikeCard",value:function(e){return fetch(lt(this,st)+"/cards/likes/".concat(e),{method:"DELETE",headers:lt(this,ft)}).then(lt(this,dt))}},{key:"updateAvatar",value:function(e){return fetch(lt(this,st)+"/users/me/avatar",{method:"PATCH",headers:lt(this,ft),body:JSON.stringify(e)}).then(lt(this,dt))}}])&&at(t.prototype,n),e}();function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t,n){return(yt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=kt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?mt(e):t}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,St(e,t,"get"))}function _t(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,St(e,t,"set"),n),n}function St(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Et=new WeakMap,Wt=new WeakMap,Mt=new WeakMap,Ot=new WeakMap,Ct=new WeakMap,Lt=new WeakMap,Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kt(r);if(i){var n=kt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bt(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),Et.set(mt(t),{writable:!0,value:void 0}),Wt.set(mt(t),{writable:!0,value:void 0}),Mt.set(mt(t),{writable:!0,value:void 0}),Ot.set(mt(t),{writable:!0,value:void 0}),Ct.set(mt(t),{writable:!0,value:void 0}),Lt.set(mt(t),{writable:!0,value:void 0}),_t(mt(t),Ot,document.querySelector(e)),_t(mt(t),Ct,gt(mt(t),Ot).querySelector(".form")),_t(mt(t),Lt,gt(mt(t),Ot).querySelector(".button_type_save")),t}return t=a,(n=[{key:"setFormHandler",value:function(e){_t(this,Et,e)}},{key:"setEventListeners",value:function(){var e=this;gt(this,Ct).addEventListener("submit",(function(t){t.preventDefault(),gt(e,Et).call(e)})),yt(kt(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){yt(kt(a.prototype),"close",this).call(this)}},{key:"renderLoading",value:function(e){gt(this,Lt).textContent=e?"Удаление...":"Да"}}])&&vt(t.prototype,n),a}(ye),jt=null,Pt=new pt({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-27",headers:{authorization:"37580e29-ca43-4e60-bfc4-9731d6167691","Content-Type":"application/json"}}),qt=new ot({profileNameSelector:".profile__name",profileBioSelector:".profile__bio",profileAvatarSelector:".profile__avatar"});Pt.getUserData().then((function(e){jt=e._id,qt.setUserInfo({name:e.name,bio:e.about,id:e._id}),qt.setAvatar(e)})).catch((function(e){console.log(e)}));var Rt=Pt.getInitialCards();function It(e){return new ue({data:e,templateSelector:".card-template",handleCardClick:function(e,t){At.open(e,t)},handleCardDelete:function(e){var t;t=e,Nt.open(),Nt.setFormHandler((function(){Nt.renderLoading(!0),Pt.deleteCard(t.getCardId()).then((function(){t.deleteCard()})).catch((function(e){return console.log(e)})).finally((function(){Nt.renderLoading(!1),Nt.close()}))}))},handleCardLike:function(e){var t;((t=e).isLiked()?Pt.dislikeCard(t.getCardId()):Pt.likeCard(t.getCardId())).then((function(e){t.setLike(e)})).catch((function(e){return console.log(e)}))}}).createCard()}var xt=new A({renderer:function(e){xt.addItem(It(e))}},".places");Rt.then((function(e){xt.renderItems(e)})).catch((function(e){console.log(e)}));var At=new Te(".place-full-photo");At.setEventListeners();var Dt=new Ge(".profile-edit",(function(e){Dt.renderLoading(!0),Pt.saveUserData(e).then((function(){qt.setUserInfo(e)})).catch((function(e){return console.log(e)})).finally((function(){Dt.renderLoading(!1),Dt.close()}))}));Dt.setEventListeners(),n.addEventListener("click",(function(){Dt.open();var e=qt.getUserInfo();i.value=e.name,o.value=e.bio,Ht.hideError()}));var Bt=new Ge(".place-add",(function(e){Bt.renderLoading(!0),e.likes=[],e.owner={_id:jt},Pt.addNewCard(e).then((function(t){e._id=t._id,xt.addItem(It(e),!1)})).catch((function(e){console.log(e)})).finally((function(){Bt.renderLoading(!1),Bt.close()}))}));Bt.setEventListeners(),a.addEventListener("click",(function(){Bt.open(),l.reset(),Vt.hideError()}));var Ut=new Ge(".avatar-update",(function(e){Ut.renderLoading(!0),Pt.updateAvatar(e).then((function(e){qt.setAvatar(e)})).catch((function(e){console.log(e)})).finally((function(){Ut.renderLoading(!1),Ut.close()}))}));Ut.setEventListeners(),u.addEventListener("click",(function(){Ut.open()}));var Nt=new Tt(".card-delete-confirmation");Nt.setEventListeners(),new L(t,c).enableValidation();var Ht=new L(t,r);Ht.enableValidation();var Vt=new L(t,l);Vt.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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a0JwQixlQUFjLEdBQ2hDcEIsR0FDR3lDLGFBQWE1RSxHQUNidUIsTUFBSyxTQUFDZ0IsR0FDTEYsR0FBU0ksVUFBVUYsTUFFcEJHLE9BQU0sU0FBQ0MsR0FDTkMsUUFBUUMsSUFBSUYsTUFFYmUsU0FBUSxXQUNQaUIsR0FBa0JwQixlQUFjLEdBQ2hDb0IsR0FBa0JwRixjQUsxQm9GLEdBQWtCVixvQkFDbEJuSSxFQUEwQmlCLGlCQUFpQixTQUFTLFdBQ2xENEgsR0FBa0J6QixVQUdwQixJQUFNRyxHQUFtQixJQUFJcEIsR1Z6TGUsNkJVNEw1Q29CLEdBQWlCWSxvQkFFaUIsSUFBSWpJLEVBQ3BDakIsRUFDQWdCLEdBRXdCOEksbUJBRTFCLElBQU1QLEdBQXdCLElBQUl0SSxFQUNoQ2pCLEVBQ0FVLEdBRUY2SSxHQUFzQk8sbUJBRXRCLElBQU1ILEdBQXdCLElBQUkxSSxFQUNoQ2pCLEVBQ0FjLEdBRUY2SSxHQUFzQkcsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc3VibWl0JyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2J1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJyxcbn07XG5cbmV4cG9ydCBjb25zdCBlZGl0SW5mb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25fdHlwZV9lZGl0Jyk7XG5leHBvcnQgY29uc3QgZWRpdEluZm9Gb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcucHJvZmlsZS1lZGl0X19mb3JtJ1xuKTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBlZGl0SW5mb0Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nbmFtZSddXCIpO1xuZXhwb3J0IGNvbnN0IGJpb0lucHV0ID0gZWRpdEluZm9Gb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2JpbyddXCIpO1xuZXhwb3J0IGNvbnN0IGFkZFBsYWNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbl90eXBlX2FkZCcpO1xuZXhwb3J0IGNvbnN0IGFkZFBsYWNlRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2UtYWRkX19mb3JtJyk7XG5leHBvcnQgY29uc3QgYWRkUGxhY2VQb3B1cFNlbGVjdG9yID0gJy5wbGFjZS1hZGQnO1xuZXhwb3J0IGNvbnN0IGVkaXRJbmZvUG9wdXBTZWxlY3RvciA9ICcucHJvZmlsZS1lZGl0JztcbmV4cG9ydCBjb25zdCBjb25maXJtRGVsZXRpb25Qb3B1cFNlbGVjdG9yID0gJy5jYXJkLWRlbGV0ZS1jb25maXJtYXRpb24nO1xuZXhwb3J0IGNvbnN0IHBvcHVwRnVsbFBob3RvU2VsZWN0b3IgPSAnLnBsYWNlLWZ1bGwtcGhvdG8nO1xuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gJy5jYXJkLXRlbXBsYXRlJztcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lclNlbGVjdG9yID0gJy5wbGFjZXMnO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lU2VsZWN0b3IgPSAnLnByb2ZpbGVfX25hbWUnO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVCaW9TZWxlY3RvciA9ICcucHJvZmlsZV9fYmlvJztcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2F2YXRhcic7XG5leHBvcnQgY29uc3QgdXNlckRhdGFTZWxlY3RvcnMgPSB7XG4gIHByb2ZpbGVOYW1lU2VsZWN0b3IsXG4gIHByb2ZpbGVCaW9TZWxlY3RvcixcbiAgcHJvZmlsZUF2YXRhclNlbGVjdG9yLFxufTtcbmV4cG9ydCBjb25zdCBkZWxldGVQbGFjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25fdHlwZV9kZWxldGUnKTtcbmV4cG9ydCBjb25zdCBkZWxldGVQbGFjZVBvcHVwU2VsZWN0b3IgPSAnLnBsYWNlX19kZWxldGUnO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUF2YXRhclBvcHVwU2VsZWN0b3IgPSAnLmF2YXRhci11cGRhdGUnO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2ZpbGVBdmF0YXJCdXR0b24gPVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5leHBvcnQgY29uc3QgdXBkYXRlQXZhdGFyRm9ybUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAnLmF2YXRhci11cGRhdGVfX2Zvcm0nXG4pO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gICNmb3JtU2VsZWN0b3I7XG4gICNpbnB1dFNlbGVjdG9yO1xuICAjc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICNpbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAjaW5wdXRFcnJvckNsYXNzO1xuICAjZXJyb3JDbGFzcztcbiAgI2Zvcm1FbGVtZW50O1xuICAjaW5wdXRMaXN0O1xuICAjYnV0dG9uO1xuXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLiNmb3JtU2VsZWN0b3IgPSBjb25maWcuZm9ybVNlbGVjdG9yO1xuICAgIHRoaXMuI2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLiNpbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy4jaW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLiNlcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy4jZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLiNpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLiNpbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgdGhpcy4jYnV0dG9uID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLiNzdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIH1cblxuICAjY2hlY2tJbnB1dFZhbGlkaXR5ID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLiNzaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gICNzaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuI2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuI2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gICNoaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNpbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuI2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICB9O1xuXG4gIGhpZGVFcnJvciA9ICgpID0+IHtcbiAgICB0aGlzLiNpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLiNoaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB9KTtcbiAgfTtcblxuICAjc2V0Rm9ybUV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIHRoaXMuI3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy4jaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLiNjaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gICN0b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy4jaGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuI2J1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuI2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy4jYnV0dG9uLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLiNidXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfTtcblxuICAjaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLiNpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfTtcblxuICBlbmFibGVWYWxpZGF0aW9uID0gKCkgPT4ge1xuICAgIHRoaXMuI2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB9KTtcbiAgICB0aGlzLiNzZXRGb3JtRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICAjcmVuZGVyZWRJdGVtcztcbiAgI3JlbmRlcmVyO1xuICAjY29udGFpbmVyO1xuXG4gIGNvbnN0cnVjdG9yKHsgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLiNyZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuI2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgcmVuZGVySXRlbXMocmVuZGVyZWRJdGVtcykge1xuICAgIHJlbmRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy4jcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQsIG9yZGVyID0gdHJ1ZSkge1xuICAgIGlmIChvcmRlcikge1xuICAgICAgdGhpcy4jY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBteVVzZXJJZCB9IGZyb20gJy4uL3BhZ2VzL2luZGV4LmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICAjbmFtZTtcbiAgI2xpbms7XG4gICN0ZW1wbGF0ZVNlbGVjdG9yO1xuICAjY2FyZDtcbiAgI2RlbGV0ZUJ1dHRvbjtcbiAgI2xpa2VCdXR0b247XG4gICNwbGFjZVBob3RvO1xuICAjaGFuZGxlQ2FyZENsaWNrO1xuICAjbGlrZXNDb3VudDtcbiAgI293bmVyO1xuICAjaGFuZGxlQ2FyZERlbGV0ZTtcbiAgI2NhcmRJZDtcbiAgI2xpa2VzO1xuICAjaGFuZGxlQ2FyZExpa2U7XG4gICNsaWtlZDtcbiAgI2RhdGE7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcbiAgICBoYW5kbGVDYXJkTGlrZSxcbiAgfSkge1xuICAgIHRoaXMuI25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy4jbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLiNvd25lciA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuI2NhcmRJZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuI2xpa2VzID0gZGF0YS5saWtlcztcbiAgICB0aGlzLiNsaWtlc0NvdW50ID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy4jdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy4jaGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuI2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xuICAgIHRoaXMuI2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlQ2FyZExpa2U7XG4gICAgdGhpcy4jZGF0YSA9IGRhdGE7XG4gIH1cblxuICBnZXRDYXJkSWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2NhcmRJZDtcbiAgfVxuXG4gICNnZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLiN0ZW1wbGF0ZVNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLnBsYWNlJylcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgaXNMaWtlZCgpIHtcbiAgICByZXR1cm4gdGhpcy4jbGlrZWQ7XG4gIH1cblxuICBzZXRMaWtlKGRhdGEpIHtcbiAgICB0aGlzLiNjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fbGlrZXMtY291bnQnKS50ZXh0Q29udGVudCA9XG4gICAgICBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICB0aGlzLiNsaWtlZCA9IGRhdGEubGlrZXMuc29tZSgoZWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuX2lkID09PSBteVVzZXJJZDtcbiAgICB9KTtcbiAgICBpZiAodGhpcy4jbGlrZWQpIHtcbiAgICAgIHRoaXMuI2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgncGxhY2VfX2xpa2VfYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgncGxhY2VfX2xpa2VfYWN0aXZlJyk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLiNjYXJkID0gdGhpcy4jZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLiNwbGFjZVBob3RvID0gdGhpcy4jY2FyZC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3Bob3RvJyk7XG4gICAgdGhpcy4jcGxhY2VQaG90by5zcmMgPSB0aGlzLiNsaW5rO1xuICAgIHRoaXMuI3BsYWNlUGhvdG8uYWx0ID0gdGhpcy4jbmFtZTtcbiAgICB0aGlzLiNjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fdGl0bGUnKS5pbm5lclRleHQgPSB0aGlzLiNuYW1lO1xuICAgIHRoaXMuI2RlbGV0ZUJ1dHRvbiA9IHRoaXMuI2NhcmQucXVlcnlTZWxlY3RvcignLnBsYWNlX19kZWxldGUnKTtcbiAgICB0aGlzLiNsaWtlQnV0dG9uID0gdGhpcy4jY2FyZC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2xpa2UnKTtcbiAgICB0aGlzLnNldExpa2UodGhpcy4jZGF0YSk7XG4gICAgaWYgKHRoaXMuI293bmVyID09PSBteVVzZXJJZCkge1xuICAgICAgdGhpcy4jZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYWNlX19kZWxldGVfYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgdGhpcy4jc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy4jY2FyZDtcbiAgfVxuXG4gICNzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVDYXJkRGVsZXRlKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuI2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVDYXJkTGlrZSh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLiNwbGFjZVBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy4jaGFuZGxlQ2FyZENsaWNrKHRoaXMuI25hbWUsIHRoaXMuI2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLiNjYXJkLnJlbW92ZSgpO1xuICB9XG5cbiAgI2xpa2VDYXJkKCkge1xuICAgIHRoaXMuI2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgncGxhY2VfX2xpa2VfYWN0aXZlJyk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgI3BvcHVwO1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuI3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLiNoYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLiNwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy4jaGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgI2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiNwb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAjcG9wdXA7XG4gICNmdWxsUGhvdG9JbWFnZTtcbiAgI2Z1bGxQaG90b0NhcHRpb247XG5cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuI3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNmdWxsUGhvdG9JbWFnZSA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnLnBsYWNlLWZ1bGwtcGhvdG9fX2ltYWdlJ1xuICAgICk7XG4gICAgdGhpcy4jZnVsbFBob3RvQ2FwdGlvbiA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnLnBsYWNlLWZ1bGwtcGhvdG9fX2NhcHRpb24nXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuI2Z1bGxQaG90b0ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy4jZnVsbFBob3RvSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLiNmdWxsUGhvdG9DYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgI2hhbmRsZUZvcm1TdWJtaXQ7XG4gICNmb3JtVmFsdWVzO1xuICAjaW5wdXRMaXN0O1xuICAjcG9wdXA7XG4gICNmb3JtO1xuICAjc3VibWl0QnV0dG9uO1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy4jZm9ybSA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy4jaW5wdXRMaXN0ID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvcignLmJ1dHRvbl90eXBlX3NhdmUnKTtcbiAgfVxuXG4gICNnZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLiNmb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy4jaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLiNmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuI2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCh0aGlzLiNnZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLiNmb3JtLnJlc2V0KCk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICAjcHJvZmlsZU5hbWU7XG4gICNwcm9maWxlQmlvO1xuICAjcHJvZmlsZUF2YXRhcjtcbiAgI2F2YXRhcjtcbiAgI2lkO1xuXG4gIGNvbnN0cnVjdG9yKHVzZXJEYXRhU2VsZWN0b3JzKSB7XG4gICAgdGhpcy4jcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRhdGFTZWxlY3RvcnMucHJvZmlsZU5hbWVTZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy4jcHJvZmlsZUJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB1c2VyRGF0YVNlbGVjdG9ycy5wcm9maWxlQmlvU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuI3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRhdGFTZWxlY3RvcnMucHJvZmlsZUF2YXRhclNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLiNwcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGJpbzogdGhpcy4jcHJvZmlsZUJpby50ZXh0Q29udGVudCxcbiAgICAgIGF2YXRhcjogdGhpcy4jcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5ld1VzZXJEYXRhKSB7XG4gICAgdGhpcy4jcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuZXdVc2VyRGF0YS5uYW1lO1xuICAgIHRoaXMuI3Byb2ZpbGVCaW8udGV4dENvbnRlbnQgPSBuZXdVc2VyRGF0YS5iaW87XG4gIH1cblxuICBzZXRBdmF0YXIoZGF0YSkge1xuICAgIHRoaXMuI3Byb2ZpbGVBdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgYCR7ZGF0YS5hdmF0YXJ9YCArICcpJztcbiAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICAjYmFzZVVybDtcbiAgI2hlYWRlcnM7XG5cbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuI2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy4jaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gICNoYW5kbGVSZXNwb25zZSA9IChyZXNwb25zZSkgPT4ge1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cbiAgfTtcblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGdldFVzZXJEYXRhKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLiNoYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBzYXZlVXNlckRhdGEoaW5wdXREYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyAnL3VzZXJzL21lJywge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogaW5wdXREYXRhLm5hbWUsXG4gICAgICAgIGFib3V0OiBpbnB1dERhdGEuYmlvLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLiNoYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBhZGROZXdDYXJkKGNhcmREYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyAnL2NhcmRzJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBjYXJkRGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBjYXJkRGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLiNoYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgYC9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgYC9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGRpc2xpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgYC9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihpbnB1dExpbmspIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy4jYmFzZVVybCArIGAvdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGlucHV0TGluayksXG4gICAgfSkudGhlbih0aGlzLiNoYW5kbGVSZXNwb25zZSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICAjaGFuZGxlRm9ybVN1Ym1pdDtcbiAgI2Zvcm1WYWx1ZXM7XG4gICNpbnB1dExpc3Q7XG4gICNwb3B1cDtcbiAgI2Zvcm07XG4gICNzdWJtaXRCdXR0b247XG5cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuI3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNmb3JtID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24gPSB0aGlzLiNwb3B1cC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uX3R5cGVfc2F2ZScpO1xuICB9XG5cbiAgc2V0Rm9ybUhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuI2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVyO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy4jZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuI2hhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHJlbmRlckxvYWRpbmcoaXNMb2FkaW5nKSB7XG4gICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgdGhpcy4jc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9Cj0LTQsNC70LXQvdC40LUuLi4nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0JTQsCc7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgJy4vaW5kZXguY3NzJztcblxuaW1wb3J0IHtcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgZWRpdEluZm9CdXR0b24sXG4gIGFkZFBsYWNlQnV0dG9uLFxuICBhZGRQbGFjZUZvcm1FbGVtZW50LFxuICBhZGRQbGFjZVBvcHVwU2VsZWN0b3IsXG4gIGNhcmRUZW1wbGF0ZVNlbGVjdG9yLFxuICBjYXJkc0NvbnRhaW5lclNlbGVjdG9yLFxuICBlZGl0SW5mb0Zvcm1FbGVtZW50LFxuICBlZGl0SW5mb1BvcHVwU2VsZWN0b3IsXG4gIHBvcHVwRnVsbFBob3RvU2VsZWN0b3IsXG4gIGJpb0lucHV0LFxuICBuYW1lSW5wdXQsXG4gIHVzZXJEYXRhU2VsZWN0b3JzLFxuICBjb25maXJtRGVsZXRpb25Qb3B1cFNlbGVjdG9yLFxuICB1cGRhdGVBdmF0YXJQb3B1cFNlbGVjdG9yLFxuICB1cGRhdGVQcm9maWxlQXZhdGFyQnV0dG9uLFxuICB1cGRhdGVBdmF0YXJGb3JtRWxlbWVudCxcbn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcblxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcbmltcG9ydCBTZWN0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcbmltcG9ydCBVc2VySW5mbyBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyc7XG5cbmV4cG9ydCBsZXQgbXlVc2VySWQgPSBudWxsO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjcnLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogJzM3NTgwZTI5LWNhNDMtNGU2MC1iZmM0LTk3MzFkNjE2NzY5MScsXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbn0pO1xuXG5mdW5jdGlvbiBnZXRVc2VyRGF0YUZyb21TZXJ2ZXIoKSB7XG4gIGNvbnN0IHByb2ZpbGVEYXRhUHJvbWlzZSA9IGFwaS5nZXRVc2VyRGF0YSgpO1xuICBwcm9maWxlRGF0YVByb21pc2VcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBteVVzZXJJZCA9IHJlc3VsdC5faWQ7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICAgIG5hbWU6IHJlc3VsdC5uYW1lLFxuICAgICAgICBiaW86IHJlc3VsdC5hYm91dCxcbiAgICAgICAgLy8gYXZhdGFyOiByZXN1bHQuYXZhdGFyLFxuICAgICAgICBpZDogcmVzdWx0Ll9pZCxcbiAgICAgIH0pO1xuICAgICAgdXNlckluZm8uc2V0QXZhdGFyKHJlc3VsdCk7XG4gICAgICAvLyBlZGl0SW5mb0Zvcm1WYWxpZGF0b3IuaGlkZUVycm9yKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KTtcbn1cblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlckRhdGFTZWxlY3RvcnMpO1xuZ2V0VXNlckRhdGFGcm9tU2VydmVyKCk7XG5cbmNvbnN0IGNhcmRzUHJvbWlzZSA9IGFwaS5nZXRJbml0aWFsQ2FyZHMoKTtcblxuZnVuY3Rpb24gbGlrZUNhcmQoY2FyZCkge1xuICBjb25zdCBjaGVja0Zvckxpa2UgPSBjYXJkLmlzTGlrZWQoKVxuICAgID8gYXBpLmRpc2xpa2VDYXJkKGNhcmQuZ2V0Q2FyZElkKCkpXG4gICAgOiBhcGkubGlrZUNhcmQoY2FyZC5nZXRDYXJkSWQoKSk7XG4gIGNoZWNrRm9yTGlrZVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICBjYXJkLnNldExpa2UoZGF0YSk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUNhcmQoY2FyZCkge1xuICBwb3B1cERlbGV0ZVBsYWNlLm9wZW4oKTtcbiAgcG9wdXBEZWxldGVQbGFjZS5zZXRGb3JtSGFuZGxlcigoKSA9PiB7XG4gICAgcG9wdXBEZWxldGVQbGFjZS5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5nZXRDYXJkSWQoKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwRGVsZXRlUGxhY2UucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHBvcHVwRGVsZXRlUGxhY2UuY2xvc2UoKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgZGF0YTogaXRlbSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yOiBjYXJkVGVtcGxhdGVTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICBwb3B1cEZ1bGxQaG90by5vcGVuKG5hbWUsIGxpbmspO1xuICAgIH0sXG4gICAgaGFuZGxlQ2FyZERlbGV0ZTogKGNhcmRJbnN0YW5jZSkgPT4ge1xuICAgICAgZGVsZXRlQ2FyZChjYXJkSW5zdGFuY2UpO1xuICAgIH0sXG4gICAgaGFuZGxlQ2FyZExpa2U6IChjYXJkSW5zdGFuY2UpID0+IHtcbiAgICAgIGxpa2VDYXJkKGNhcmRJbnN0YW5jZSk7XG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiBjYXJkLmNyZWF0ZUNhcmQoKTtcbn1cblxuY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xuICAgIH0sXG4gIH0sXG4gIGNhcmRzQ29udGFpbmVyU2VsZWN0b3Jcbik7XG5cbmNhcmRzUHJvbWlzZVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIGNhcmRzTGlzdC5yZW5kZXJJdGVtcyhkYXRhKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcblxuY29uc3QgcG9wdXBGdWxsUGhvdG8gPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBGdWxsUGhvdG9TZWxlY3Rvcik7XG5wb3B1cEZ1bGxQaG90by5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEVkaXRJbmZvID0gbmV3IFBvcHVwV2l0aEZvcm0oZWRpdEluZm9Qb3B1cFNlbGVjdG9yLCAoaW5wdXREYXRhKSA9PiB7XG4gIHBvcHVwRWRpdEluZm8ucmVuZGVyTG9hZGluZyh0cnVlKTtcblxuICBhcGlcbiAgICAuc2F2ZVVzZXJEYXRhKGlucHV0RGF0YSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhpbnB1dERhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBFZGl0SW5mby5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHBvcHVwRWRpdEluZm8uY2xvc2UoKTtcbiAgICB9KTtcbn0pO1xuXG5wb3B1cEVkaXRJbmZvLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5lZGl0SW5mb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBFZGl0SW5mby5vcGVuKCk7XG4gIGNvbnN0IHByb2ZpbGVEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZURhdGEubmFtZTtcbiAgYmlvSW5wdXQudmFsdWUgPSBwcm9maWxlRGF0YS5iaW87XG4gIGVkaXRJbmZvRm9ybVZhbGlkYXRvci5oaWRlRXJyb3IoKTtcbn0pO1xuXG5jb25zdCBwb3B1cEFkZFBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0oYWRkUGxhY2VQb3B1cFNlbGVjdG9yLCAoaW5wdXREYXRhKSA9PiB7XG4gIHBvcHVwQWRkUGxhY2UucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgaW5wdXREYXRhLmxpa2VzID0gW107XG4gIGlucHV0RGF0YS5vd25lciA9IHsgX2lkOiBteVVzZXJJZCB9O1xuICBhcGlcbiAgICAuYWRkTmV3Q2FyZChpbnB1dERhdGEpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaW5wdXREYXRhLl9pZCA9IHJlc3VsdC5faWQ7XG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGlucHV0RGF0YSksIGZhbHNlKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBBZGRQbGFjZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHBvcHVwQWRkUGxhY2UuY2xvc2UoKTtcbiAgICB9KTtcbn0pO1xuXG5wb3B1cEFkZFBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRQbGFjZS5vcGVuKCk7XG4gIGFkZFBsYWNlRm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgYWRkUGxhY2VGb3JtVmFsaWRhdG9yLmhpZGVFcnJvcigpO1xufSk7XG5cbmNvbnN0IHBvcHVwVXBkYXRlQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHVwZGF0ZUF2YXRhclBvcHVwU2VsZWN0b3IsXG4gIChpbnB1dCkgPT4ge1xuICAgIHBvcHVwVXBkYXRlQXZhdGFyLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXBpXG4gICAgICAudXBkYXRlQXZhdGFyKGlucHV0KVxuICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICB1c2VySW5mby5zZXRBdmF0YXIocmVzdWx0KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBVcGRhdGVBdmF0YXIucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgfVxuKTtcblxucG9wdXBVcGRhdGVBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnVwZGF0ZVByb2ZpbGVBdmF0YXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwVXBkYXRlQXZhdGFyLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cERlbGV0ZVBsYWNlID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcbiAgY29uZmlybURlbGV0aW9uUG9wdXBTZWxlY3RvclxuKTtcbnBvcHVwRGVsZXRlUGxhY2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgdXBkYXRlQXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICB1cGRhdGVBdmF0YXJGb3JtRWxlbWVudFxuKTtcbnVwZGF0ZUF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBlZGl0SW5mb0Zvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgZWRpdEluZm9Gb3JtRWxlbWVudFxuKTtcbmVkaXRJbmZvRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGFkZFBsYWNlRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBhZGRQbGFjZUZvcm1FbGVtZW50XG4pO1xuYWRkUGxhY2VGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVkaXRJbmZvQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWRpdEluZm9Gb3JtRWxlbWVudCIsIm5hbWVJbnB1dCIsImJpb0lucHV0IiwiYWRkUGxhY2VCdXR0b24iLCJhZGRQbGFjZUZvcm1FbGVtZW50IiwidXBkYXRlUHJvZmlsZUF2YXRhckJ1dHRvbiIsInVwZGF0ZUF2YXRhckZvcm1FbGVtZW50IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic29tZSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsInJlbmRlcmVkSXRlbXMiLCJpdGVtIiwiZWxlbWVudCIsIm9yZGVyIiwiYXBwZW5kIiwicHJlcGVuZCIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJoYW5kbGVDYXJkTGlrZSIsIm5hbWUiLCJsaW5rIiwib3duZXIiLCJfaWQiLCJsaWtlcyIsImxlbmd0aCIsIm15VXNlcklkIiwic3JjIiwiYWx0IiwiaW5uZXJUZXh0Iiwic2V0TGlrZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInJlc2V0IiwiaXNMb2FkaW5nIiwiaW5wdXQiLCJ2YWx1ZSIsIlVzZXJJbmZvIiwidXNlckRhdGFTZWxlY3RvcnMiLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUJpb1NlbGVjdG9yIiwicHJvZmlsZUF2YXRhclNlbGVjdG9yIiwiYmlvIiwiYXZhdGFyIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJuZXdVc2VyRGF0YSIsIkFwaSIsIm9wdGlvbnMiLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJiYXNlVXJsIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsImlucHV0RGF0YSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJjYXJkRGF0YSIsImNhcmRJZCIsImlucHV0TGluayIsIlBvcHVwV2l0aENvbmZpcm1hdGlvbiIsImhhbmRsZXIiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJnZXRVc2VyRGF0YSIsInJlc3VsdCIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiY2FyZHNQcm9taXNlIiwiZ2V0SW5pdGlhbENhcmRzIiwiY3JlYXRlQ2FyZCIsInBvcHVwRnVsbFBob3RvIiwib3BlbiIsImNhcmRJbnN0YW5jZSIsImNhcmQiLCJwb3B1cERlbGV0ZVBsYWNlIiwic2V0Rm9ybUhhbmRsZXIiLCJyZW5kZXJMb2FkaW5nIiwiZGVsZXRlQ2FyZCIsImdldENhcmRJZCIsImZpbmFsbHkiLCJpc0xpa2VkIiwiZGlzbGlrZUNhcmQiLCJsaWtlQ2FyZCIsImNhcmRzTGlzdCIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyIsInNldEV2ZW50TGlzdGVuZXJzIiwicG9wdXBFZGl0SW5mbyIsInNhdmVVc2VyRGF0YSIsInByb2ZpbGVEYXRhIiwiZ2V0VXNlckluZm8iLCJlZGl0SW5mb0Zvcm1WYWxpZGF0b3IiLCJoaWRlRXJyb3IiLCJwb3B1cEFkZFBsYWNlIiwiYWRkTmV3Q2FyZCIsImFkZFBsYWNlRm9ybVZhbGlkYXRvciIsInBvcHVwVXBkYXRlQXZhdGFyIiwidXBkYXRlQXZhdGFyIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=