!function(){"use strict";var e={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},t=document.querySelector(".button_type_edit"),n=document.querySelector(".profile-edit__form"),r=n.querySelector("[name='name']"),i=n.querySelector("[name='about']"),o=document.querySelector(".button_type_add"),a=document.querySelector(".place-add__form"),l=(document.querySelector(".button_type_delete"),document.querySelector(".profile__avatar")),u=document.querySelector(".avatar-update__form");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function f(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function p(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,h(e,t,"set"),n),n}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var d=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,b=new WeakMap,m=new WeakMap,k=new WeakMap,g=new WeakMap,_=new WeakMap,E=new WeakMap,S=new WeakMap,C=new WeakMap,W=new WeakMap,M=new WeakMap,O=new WeakMap,L=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,d,{writable:!0,value:void 0}),s(this,v,{writable:!0,value:void 0}),s(this,y,{writable:!0,value:void 0}),s(this,w,{writable:!0,value:void 0}),s(this,b,{writable:!0,value:void 0}),s(this,m,{writable:!0,value:void 0}),s(this,k,{writable:!0,value:void 0}),s(this,g,{writable:!0,value:void 0}),s(this,_,{writable:!0,value:void 0}),s(this,E,{writable:!0,value:function(e){e.validity.valid?f(r,C).call(r,e):f(r,S).call(r,e,e.validationMessage)}}),s(this,S,{writable:!0,value:function(e,t){var n=f(r,k).querySelector(".".concat(e.id,"-error"));e.classList.add(f(r,b)),n.textContent=t,n.classList.add(f(r,m))}}),s(this,C,{writable:!0,value:function(e){var t=f(r,k).querySelector(".".concat(e.id,"-error"));e.classList.remove(f(r,b)),t.classList.remove(f(r,m)),t.textContent=""}}),c(this,"hideError",(function(){f(r,g).forEach((function(e){f(r,C).call(r,e),f(r,M).call(r)}))})),s(this,W,{writable:!0,value:function(){f(r,M).call(r),f(r,g).forEach((function(e){e.addEventListener("input",(function(){f(r,E).call(r,e),f(r,M).call(r)}))}))}}),s(this,M,{writable:!0,value:function(){f(r,O).call(r)?(f(r,_).classList.add(f(r,w)),f(r,_).setAttribute("disabled",!0)):(f(r,_).classList.remove(f(r,w)),f(r,_).removeAttribute("disabled"))}}),s(this,O,{writable:!0,value:function(){return f(r,g).some((function(e){return!e.validity.valid}))}}),c(this,"enableValidation",(function(){f(r,k).addEventListener("submit",(function(e){e.preventDefault(),f(r,M).call(r)})),f(r,W).call(r)})),p(this,d,t.formSelector),p(this,v,t.inputSelector),p(this,y,t.submitButtonSelector),p(this,w,t.inactiveButtonClass),p(this,b,t.inputErrorClass),p(this,m,t.errorClass),p(this,k,n),p(this,g,Array.from(f(this,k).querySelectorAll(f(this,v)))),p(this,_,f(this,k).querySelector(f(this,y)))};function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function q(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,R(e,t,"get"))}function P(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,R(e,t,"set"),n),n}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var I=new WeakMap,A=new WeakMap,x=new WeakMap,D=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,I,{writable:!0,value:void 0}),j(this,A,{writable:!0,value:void 0}),j(this,x,{writable:!0,value:void 0}),P(this,A,r),P(this,x,document.querySelector(n))}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){q(t,A).call(t,e)}))}},{key:"addItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?q(this,x).append(e):q(this,x).prepend(e)}}])&&T(t.prototype,n),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){N(e,t),t.add(e)}function z(e,t,n){N(e,t),t.set(e,n)}function N(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function V(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,F(e,t,"get"))}function J(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,F(e,t,"set"),n),n}function F(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var $=new WeakMap,G=new WeakMap,K=new WeakMap,Q=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap,oe=new WeakMap,ae=new WeakMap,le=new WeakMap,ue=new WeakMap,ce=new WeakSet,se=new WeakSet,fe=function(){function e(t){var n=t.data,r=t.templateSelector,i=t.handleCardClick,o=t.handleCardDelete,a=t.handleCardLike,l=t.myUserId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,se),B(this,ce),z(this,$,{writable:!0,value:void 0}),z(this,G,{writable:!0,value:void 0}),z(this,K,{writable:!0,value:void 0}),z(this,Q,{writable:!0,value:void 0}),z(this,X,{writable:!0,value:void 0}),z(this,Y,{writable:!0,value:void 0}),z(this,Z,{writable:!0,value:void 0}),z(this,ee,{writable:!0,value:void 0}),z(this,te,{writable:!0,value:void 0}),z(this,ne,{writable:!0,value:void 0}),z(this,re,{writable:!0,value:void 0}),z(this,ie,{writable:!0,value:void 0}),z(this,oe,{writable:!0,value:void 0}),z(this,ae,{writable:!0,value:void 0}),z(this,le,{writable:!0,value:void 0}),z(this,ue,{writable:!0,value:void 0}),J(this,$,n.name),J(this,G,n.link),J(this,te,n.owner._id),J(this,re,n._id),J(this,K,r),J(this,ee,i),J(this,ne,o),J(this,ie,a),J(this,ae,n),J(this,le,l)}var t,n;return t=e,(n=[{key:"getCardId",value:function(){return V(this,re)}},{key:"isLiked",value:function(){return V(this,oe)}},{key:"setLike",value:function(e){var t=this;V(this,Q).querySelector(".place__likes-count").textContent=e.likes.length,J(this,oe,e.likes.some((function(e){return e._id===V(t,le)}))),V(this,oe)?V(this,Y).classList.add("place__like_active"):V(this,Y).classList.remove("place__like_active")}},{key:"createCard",value:function(){return J(this,Q,H(this,ce,pe).call(this)),J(this,Z,V(this,Q).querySelector(".place__photo")),V(this,Z).src=V(this,G),V(this,Z).alt=V(this,$),V(this,Q).querySelector(".place__title").innerText=V(this,$),J(this,X,V(this,Q).querySelector(".place__delete")),J(this,Y,V(this,Q).querySelector(".place__like")),this.setLike(V(this,ae)),V(this,te)===V(this,le)&&V(this,X).classList.remove("place__delete_active"),H(this,se,he).call(this),V(this,Q)}},{key:"deleteCard",value:function(){V(this,Q).remove()}}])&&U(t.prototype,n),e}();function pe(){return document.querySelector(V(this,K)).content.querySelector(".place").cloneNode(!0)}function he(){var e=this;V(this,X).addEventListener("click",(function(){V(e,ne).call(e,e)})),V(this,Y).addEventListener("click",(function(){V(e,ie).call(e,e)})),V(this,Z).addEventListener("click",(function(){V(e,ee).call(e,V(e,$),V(e,G))}))}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function ye(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,we(e,t,"get"))}function we(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var be=new WeakMap,me=new WeakMap,ke=function(){function e(t){var n,r,i,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ve(this,be,{writable:!0,value:void 0}),ve(this,me,{writable:!0,value:function(e){"Escape"===e.key&&o.close()}}),n=this,r=be,i=document.querySelector(t),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(n,we(n,r,"set"),i)}var t,n;return t=e,(n=[{key:"open",value:function(){ye(this,be).classList.add("popup_opened"),document.addEventListener("keydown",ye(this,me))}},{key:"close",value:function(){ye(this,be).classList.remove("popup_opened"),document.removeEventListener("keydown",ye(this,me))}},{key:"setEventListeners",value:function(){var e=this;ye(this,be).querySelector(".popup__close").addEventListener("click",(function(){e.close()})),ye(this,be).addEventListener("click",(function(t){t.target===t.currentTarget&&e.close()}))}}])&&de(t.prototype,n),e}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return(Ee="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Me(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return We(e)}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Le(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,je(e,t,"get"))}function Te(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,je(e,t,"set"),n),n}function je(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var qe=new WeakMap,Pe=new WeakMap,Re=new WeakMap,Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Me(r);if(i){var n=Me(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ce(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Oe(We(t=o.call(this,e)),qe,{writable:!0,value:void 0}),Oe(We(t),Pe,{writable:!0,value:void 0}),Oe(We(t),Re,{writable:!0,value:void 0}),Te(We(t),qe,document.querySelector(e)),Te(We(t),Pe,Le(We(t),qe).querySelector(".place-full-photo__image")),Te(We(t),Re,Le(We(t),qe).querySelector(".place-full-photo__caption")),t}return t=a,(n=[{key:"open",value:function(e,t){Le(this,Pe).src=t,Le(this,Pe).alt=e,Le(this,Re).textContent=e,Ee(Me(a.prototype),"open",this).call(this)}}])&&_e(t.prototype,n),a}(ke);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t,n){return(De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ne(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function He(e,t,n){Ve(e,t),t.set(e,n)}function Ve(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Je(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,$e(e,t,"get"))}function Fe(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,$e(e,t,"set"),n),n}function $e(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ge=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,Xe=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,et=new WeakSet,tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ne(r);if(i){var n=Ne(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Be(this,e)});function a(e,t){var n,r,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ve(r=ze(n=o.call(this,e)),i=et),i.add(r),He(ze(n),Ge,{writable:!0,value:void 0}),He(ze(n),Ke,{writable:!0,value:void 0}),He(ze(n),Qe,{writable:!0,value:void 0}),He(ze(n),Xe,{writable:!0,value:void 0}),He(ze(n),Ye,{writable:!0,value:void 0}),He(ze(n),Ze,{writable:!0,value:void 0}),Fe(ze(n),Xe,document.querySelector(e)),Fe(ze(n),Ge,t),Fe(ze(n),Ye,Je(ze(n),Xe).querySelector(".form")),Fe(ze(n),Qe,Je(ze(n),Xe).querySelectorAll(".form__input")),Fe(ze(n),Ze,Je(ze(n),Xe).querySelector(".button_type_save")),n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;Je(this,Ye).addEventListener("submit",(function(t){t.preventDefault(),Je(e,Ge).call(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(e,et,nt).call(e))})),De(Ne(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){De(Ne(a.prototype),"close",this).call(this),Je(this,Ye).reset()}},{key:"renderLoading",value:function(e){Je(this,Ze).textContent=e?"Сохранение...":"Сохранить"}}])&&xe(t.prototype,n),a}(ke);function nt(){var e=this;return Fe(this,Ke,{}),Je(this,Qe).forEach((function(t){Je(e,Ke)[t.name]=t.value})),Je(this,Ke)}function rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function it(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function ot(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,lt(e,t,"get"))}function at(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,lt(e,t,"set"),n),n}function lt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var ut=new WeakMap,ct=new WeakMap,st=new WeakMap,ft=new WeakMap,pt=new WeakMap,ht=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),it(this,ut,{writable:!0,value:void 0}),it(this,ct,{writable:!0,value:void 0}),it(this,st,{writable:!0,value:void 0}),it(this,ft,{writable:!0,value:void 0}),it(this,pt,{writable:!0,value:void 0}),at(this,ut,document.querySelector(t.profileNameSelector)),at(this,ct,document.querySelector(t.profileBioSelector)),at(this,st,document.querySelector(t.profileAvatarSelector))}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:ot(this,ut).textContent,about:ot(this,ct).textContent}}},{key:"setUserInfo",value:function(e){e.name&&(ot(this,ut).textContent=e.name),e.about&&(ot(this,ct).textContent=e.about)}},{key:"setAvatar",value:function(e){e.avatar&&(ot(this,st).style.backgroundImage="url("+"".concat(e.avatar)+")")}}])&&rt(t.prototype,n),e}();function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function yt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,bt(e,t,"get"))}function wt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,bt(e,t,"set"),n),n}function bt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var mt=new WeakMap,kt=new WeakMap,gt=new WeakMap,_t=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vt(this,mt,{writable:!0,value:void 0}),vt(this,kt,{writable:!0,value:void 0}),vt(this,gt,{writable:!0,value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}),wt(this,mt,t.baseUrl),wt(this,kt,t.headers)}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(yt(this,mt)+"/cards",{headers:yt(this,kt)}).then(yt(this,gt))}},{key:"getUserData",value:function(){return fetch(yt(this,mt)+"/users/me",{headers:yt(this,kt)}).then(yt(this,gt))}},{key:"saveUserData",value:function(e){return fetch(yt(this,mt)+"/users/me",{method:"PATCH",headers:yt(this,kt),body:JSON.stringify(e)}).then(yt(this,gt))}},{key:"addNewCard",value:function(e){return fetch(yt(this,mt)+"/cards",{method:"POST",headers:yt(this,kt),body:JSON.stringify(e)}).then(yt(this,gt))}},{key:"deleteCard",value:function(e){return fetch(yt(this,mt)+"/cards/".concat(e),{method:"DELETE",headers:yt(this,kt)}).then(yt(this,gt))}},{key:"likeCard",value:function(e){return fetch(yt(this,mt)+"/cards/likes/".concat(e),{method:"PUT",headers:yt(this,kt)}).then(yt(this,gt))}},{key:"dislikeCard",value:function(e){return fetch(yt(this,mt)+"/cards/likes/".concat(e),{method:"DELETE",headers:yt(this,kt)}).then(yt(this,gt))}},{key:"updateAvatar",value:function(e){return fetch(yt(this,mt)+"/users/me/avatar",{method:"PATCH",headers:yt(this,kt),body:JSON.stringify(e)}).then(yt(this,gt))}}])&&dt(t.prototype,n),e}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t,n){return(Ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lt(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e,t){if(t&&("object"===Et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ot(e)}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function jt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Pt(e,t,"get"))}function qt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Pt(e,t,"set"),n),n}function Pt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Rt=new WeakMap,It=new WeakMap,At=new WeakMap,xt=new WeakMap,Dt=new WeakMap,Ut=new WeakMap,Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(a,e);var t,n,r,i,o=(r=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Lt(r);if(i){var n=Lt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Mt(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Tt(Ot(t=o.call(this,e)),Rt,{writable:!0,value:void 0}),Tt(Ot(t),It,{writable:!0,value:void 0}),Tt(Ot(t),At,{writable:!0,value:void 0}),Tt(Ot(t),xt,{writable:!0,value:void 0}),Tt(Ot(t),Dt,{writable:!0,value:void 0}),Tt(Ot(t),Ut,{writable:!0,value:void 0}),qt(Ot(t),xt,document.querySelector(e)),qt(Ot(t),Dt,jt(Ot(t),xt).querySelector(".form")),qt(Ot(t),Ut,jt(Ot(t),xt).querySelector(".button_type_save")),t}return t=a,(n=[{key:"setFormHandler",value:function(e){qt(this,Rt,e)}},{key:"setEventListeners",value:function(){var e=this;jt(this,Dt).addEventListener("submit",(function(t){t.preventDefault(),jt(e,Rt).call(e)})),Ct(Lt(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){Ct(Lt(a.prototype),"close",this).call(this)}},{key:"renderLoading",value:function(e){jt(this,Ut).textContent=e?"Удаление...":"Да"}}])&&St(t.prototype,n),a}(ke);function zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nt=null,Ht=new _t({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-27",headers:{authorization:"37580e29-ca43-4e60-bfc4-9731d6167691","Content-Type":"application/json"}}),Vt=new ht({profileNameSelector:".profile__name",profileBioSelector:".profile__bio",profileAvatarSelector:".profile__avatar"});function Jt(e){return new fe({data:e,templateSelector:".card-template",handleCardClick:function(e,t){$t.open(e,t)},handleCardDelete:function(e){var t;t=e,Xt.open(),Xt.setFormHandler((function(){Xt.renderLoading(!0),Ht.deleteCard(t.getCardId()).then((function(){t.deleteCard(),Xt.close()})).catch((function(e){return console.log(e)})).finally((function(){Xt.renderLoading(!1)}))}))},handleCardLike:function(e){var t;((t=e).isLiked()?Ht.dislikeCard(t.getCardId()):Ht.likeCard(t.getCardId())).then((function(e){t.setLike(e)})).catch((function(e){console.log(e)}))},myUserId:Nt}).createCard()}var Ft=new D({renderer:function(e){Ft.addItem(Jt(e))}},".places");Promise.all([Ht.getUserData(),Ht.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){l=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];Nt=i._id,Vt.setUserInfo(i),Vt.setAvatar(i),Ft.renderItems(o)})).catch((function(e){console.log(e)}));var $t=new Ie(".place-full-photo");$t.setEventListeners();var Gt=new tt(".profile-edit",(function(e){Gt.renderLoading(!0),Ht.saveUserData(e).then((function(){Vt.setUserInfo(e),Gt.close()})).catch((function(e){return console.log(e)})).finally((function(){Gt.renderLoading(!1)}))}));Gt.setEventListeners(),t.addEventListener("click",(function(){Gt.open();var e=Vt.getUserInfo();r.value=e.name,i.value=e.about,Yt.hideError()}));var Kt=new tt(".place-add",(function(e){Kt.renderLoading(!0),Ht.addNewCard(e).then((function(t){Ft.addItem(Jt({name:e.name,link:e.link,likes:[],owner:{_id:Nt},_id:t._id}),!1),Kt.close()})).catch((function(e){console.log(e)})).finally((function(){Kt.renderLoading(!1)}))}));Kt.setEventListeners(),o.addEventListener("click",(function(){Kt.open(),a.reset(),Zt.hideError()}));var Qt=new tt(".avatar-update",(function(e){Qt.renderLoading(!0),Ht.updateAvatar(e).then((function(e){Vt.setAvatar(e),Qt.close()})).catch((function(e){console.log(e)})).finally((function(){Qt.renderLoading(!1)}))}));Qt.setEventListeners(),l.addEventListener("click",(function(){Qt.open()}));var Xt=new Bt(".card-delete-confirmation");Xt.setEventListeners(),new L(e,u).enableValidation();var Yt=new L(e,n);Yt.enableValidation();var Zt=new L(e,a);Zt.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RDhILEdBQWtCckMsVUFHcEIsSUFBTUcsR0FBbUIsSUFBSVYsR1ZsTGUsNkJVcUw1Q1UsR0FBaUJ1QixvQkFHaUIsSUFBSWxJLEVBQ3BDakIsRUFDQWdCLEdBRXdCZ0osbUJBRTFCLElBQU1SLEdBQXdCLElBQUl2SSxFQUNoQ2pCLEVBQ0FVLEdBRUY4SSxHQUFzQlEsbUJBRXRCLElBQU1ILEdBQXdCLElBQUk1SSxFQUNoQ2pCLEVBQ0FjLEdBRUYrSSxHQUFzQkcsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6ICcuZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19zdWJtaXQnLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnYnV0dG9uX2Rpc2FibGVkJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAnZm9ybV9faW5wdXRfdHlwZV9lcnJvcicsXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnLFxufTtcblxuZXhwb3J0IGNvbnN0IGVkaXRJbmZvQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbl90eXBlX2VkaXQnKTtcbmV4cG9ydCBjb25zdCBlZGl0SW5mb0Zvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5wcm9maWxlLWVkaXRfX2Zvcm0nXG4pO1xuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGVkaXRJbmZvRm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIltuYW1lPSduYW1lJ11cIik7XG5leHBvcnQgY29uc3QgYmlvSW5wdXQgPSBlZGl0SW5mb0Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nYWJvdXQnXVwiKTtcbmV4cG9ydCBjb25zdCBhZGRQbGFjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25fdHlwZV9hZGQnKTtcbmV4cG9ydCBjb25zdCBhZGRQbGFjZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBsYWNlLWFkZF9fZm9ybScpO1xuZXhwb3J0IGNvbnN0IGFkZFBsYWNlUG9wdXBTZWxlY3RvciA9ICcucGxhY2UtYWRkJztcbmV4cG9ydCBjb25zdCBlZGl0SW5mb1BvcHVwU2VsZWN0b3IgPSAnLnByb2ZpbGUtZWRpdCc7XG5leHBvcnQgY29uc3QgY29uZmlybURlbGV0aW9uUG9wdXBTZWxlY3RvciA9ICcuY2FyZC1kZWxldGUtY29uZmlybWF0aW9uJztcbmV4cG9ydCBjb25zdCBwb3B1cEZ1bGxQaG90b1NlbGVjdG9yID0gJy5wbGFjZS1mdWxsLXBob3RvJztcbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGVTZWxlY3RvciA9ICcuY2FyZC10ZW1wbGF0ZSc7XG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXJTZWxlY3RvciA9ICcucGxhY2VzJztcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVNlbGVjdG9yID0gJy5wcm9maWxlX19uYW1lJztcbmV4cG9ydCBjb25zdCBwcm9maWxlQmlvU2VsZWN0b3IgPSAnLnByb2ZpbGVfX2Jpbyc7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhclNlbGVjdG9yID0gJy5wcm9maWxlX19hdmF0YXInO1xuZXhwb3J0IGNvbnN0IHVzZXJEYXRhU2VsZWN0b3JzID0ge1xuICBwcm9maWxlTmFtZVNlbGVjdG9yLFxuICBwcm9maWxlQmlvU2VsZWN0b3IsXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3Rvcixcbn07XG5leHBvcnQgY29uc3QgZGVsZXRlUGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uX3R5cGVfZGVsZXRlJyk7XG5leHBvcnQgY29uc3QgZGVsZXRlUGxhY2VQb3B1cFNlbGVjdG9yID0gJy5wbGFjZV9fZGVsZXRlJztcbmV4cG9ydCBjb25zdCB1cGRhdGVBdmF0YXJQb3B1cFNlbGVjdG9yID0gJy5hdmF0YXItdXBkYXRlJztcbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9maWxlQXZhdGFyQnV0dG9uID1cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUF2YXRhckZvcm1FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgJy5hdmF0YXItdXBkYXRlX19mb3JtJ1xuKTtcbmV4cG9ydCBjb25zdCBzZXJ2ZXJVcmwgPSAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC0yNyc7XG5leHBvcnQgY29uc3QgdG9rZW4gPSAnMzc1ODBlMjktY2E0My00ZTYwLWJmYzQtOTczMWQ2MTY3NjkxJztcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICAjZm9ybVNlbGVjdG9yO1xuICAjaW5wdXRTZWxlY3RvcjtcbiAgI3N1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAjaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgI2lucHV0RXJyb3JDbGFzcztcbiAgI2Vycm9yQ2xhc3M7XG4gICNmb3JtRWxlbWVudDtcbiAgI2lucHV0TGlzdDtcbiAgI2J1dHRvbjtcblxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy4jZm9ybVNlbGVjdG9yID0gY29uZmlnLmZvcm1TZWxlY3RvcjtcbiAgICB0aGlzLiNpbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuI2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy4jZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICAgIHRoaXMuI2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gICAgdGhpcy4jaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcbiAgICAgIHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy4jaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuI2J1dHRvbiA9IHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy4jc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgI2NoZWNrSW5wdXRWYWxpZGl0eSA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy4jc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNoaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfTtcblxuICAjc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXG4gICAgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLiNpbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLiNlcnJvckNsYXNzKTtcbiAgfTtcblxuICAjaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNlcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcbiAgfTtcblxuICBoaWRlRXJyb3IgPSAoKSA9PiB7XG4gICAgdGhpcy4jaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy4jaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICAgIHRoaXMuI3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgI3NldEZvcm1FdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuI2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy4jY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuI3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAjdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuI2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLiNidXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLiNpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuI2J1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuI2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy4jYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgI2hhc0ludmFsaWRJbnB1dCA9ICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy4jaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICB0aGlzLiNmb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuI3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgfSk7XG4gICAgdGhpcy4jc2V0Rm9ybUV2ZW50TGlzdGVuZXJzKCk7XG4gIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgI3JlbmRlcmVkSXRlbXM7XG4gICNyZW5kZXJlcjtcbiAgI2NvbnRhaW5lcjtcblxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy4jcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLiNjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKHJlbmRlcmVkSXRlbXMpIHtcbiAgICByZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuI3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50LCBvcmRlciA9IHRydWUpIHtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIHRoaXMuI2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8gaW1wb3J0IHsgbXlVc2VySWQgfSBmcm9tICcuLi9wYWdlcy9pbmRleC5qcyc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgI25hbWU7XG4gICNsaW5rO1xuICAjdGVtcGxhdGVTZWxlY3RvcjtcbiAgI2NhcmQ7XG4gICNkZWxldGVCdXR0b247XG4gICNsaWtlQnV0dG9uO1xuICAjcGxhY2VQaG90bztcbiAgI2hhbmRsZUNhcmRDbGljaztcbiAgI293bmVyO1xuICAjaGFuZGxlQ2FyZERlbGV0ZTtcbiAgI2NhcmRJZDtcbiAgI2hhbmRsZUNhcmRMaWtlO1xuICAjbGlrZWQ7XG4gICNkYXRhO1xuICAjbXlVc2VySWQ7XG4gICNsaWtlcztcblxuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVDYXJkRGVsZXRlLFxuICAgIGhhbmRsZUNhcmRMaWtlLFxuICAgIG15VXNlcklkLFxuICB9KSB7XG4gICAgdGhpcy4jbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLiNsaW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuI293bmVyID0gZGF0YS5vd25lci5faWQ7XG4gICAgdGhpcy4jY2FyZElkID0gZGF0YS5faWQ7XG4gICAgLy8gdGhpcy4jbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIC8vIHRoaXMuI2xpa2VzQ291bnQgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICB0aGlzLiN0ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcbiAgICB0aGlzLiNoYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy4jaGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XG4gICAgdGhpcy4jaGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcbiAgICB0aGlzLiNkYXRhID0gZGF0YTtcbiAgICB0aGlzLiNteVVzZXJJZCA9IG15VXNlcklkO1xuICB9XG5cbiAgZ2V0Q2FyZElkKCkge1xuICAgIHJldHVybiB0aGlzLiNjYXJkSWQ7XG4gIH1cblxuICAjZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy4jdGVtcGxhdGVTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZScpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIGlzTGlrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2xpa2VkO1xuICB9XG5cbiAgc2V0TGlrZShkYXRhKSB7XG4gICAgdGhpcy4jY2FyZC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2xpa2VzLWNvdW50JykudGV4dENvbnRlbnQgPVxuICAgICAgZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy4jbGlrZWQgPSBkYXRhLmxpa2VzLnNvbWUoKGVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiBlbGVtZW50Ll9pZCA9PT0gdGhpcy4jbXlVc2VySWQ7XG4gICAgfSk7XG4gICAgaWYgKHRoaXMuI2xpa2VkKSB7XG4gICAgICB0aGlzLiNsaWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3BsYWNlX19saWtlX2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNsaWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYWNlX19saWtlX2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgdGhpcy4jY2FyZCA9IHRoaXMuI2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy4jcGxhY2VQaG90byA9IHRoaXMuI2NhcmQucXVlcnlTZWxlY3RvcignLnBsYWNlX19waG90bycpO1xuICAgIHRoaXMuI3BsYWNlUGhvdG8uc3JjID0gdGhpcy4jbGluaztcbiAgICB0aGlzLiNwbGFjZVBob3RvLmFsdCA9IHRoaXMuI25hbWU7XG4gICAgdGhpcy4jY2FyZC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX3RpdGxlJykuaW5uZXJUZXh0ID0gdGhpcy4jbmFtZTtcbiAgICB0aGlzLiNkZWxldGVCdXR0b24gPSB0aGlzLiNjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fZGVsZXRlJyk7XG4gICAgdGhpcy4jbGlrZUJ1dHRvbiA9IHRoaXMuI2NhcmQucXVlcnlTZWxlY3RvcignLnBsYWNlX19saWtlJyk7XG4gICAgdGhpcy5zZXRMaWtlKHRoaXMuI2RhdGEpO1xuICAgIGlmICh0aGlzLiNvd25lciA9PT0gdGhpcy4jbXlVc2VySWQpIHtcbiAgICAgIHRoaXMuI2RlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdwbGFjZV9fZGVsZXRlX2FjdGl2ZScpO1xuICAgIH1cbiAgICB0aGlzLiNzZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLiNjYXJkO1xuICB9XG5cbiAgI3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuI2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuI2hhbmRsZUNhcmREZWxldGUodGhpcyk7XG4gICAgfSk7XG4gICAgdGhpcy4jbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuI2hhbmRsZUNhcmRMaWtlKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuI3BsYWNlUGhvdG8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVDYXJkQ2xpY2sodGhpcy4jbmFtZSwgdGhpcy4jbGluayk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIHRoaXMuI2NhcmQucmVtb3ZlKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgI3BvcHVwO1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuI3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLiNoYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLiNwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy4jaGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgI2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLiNwb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICAjcG9wdXA7XG4gICNmdWxsUGhvdG9JbWFnZTtcbiAgI2Z1bGxQaG90b0NhcHRpb247XG5cbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuI3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNmdWxsUGhvdG9JbWFnZSA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnLnBsYWNlLWZ1bGwtcGhvdG9fX2ltYWdlJ1xuICAgICk7XG4gICAgdGhpcy4jZnVsbFBob3RvQ2FwdGlvbiA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnLnBsYWNlLWZ1bGwtcGhvdG9fX2NhcHRpb24nXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuI2Z1bGxQaG90b0ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy4jZnVsbFBob3RvSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLiNmdWxsUGhvdG9DYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgI2hhbmRsZUZvcm1TdWJtaXQ7XG4gICNmb3JtVmFsdWVzO1xuICAjaW5wdXRMaXN0O1xuICAjcG9wdXA7XG4gICNmb3JtO1xuICAjc3VibWl0QnV0dG9uO1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy4jZm9ybSA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy4jaW5wdXRMaXN0ID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvcignLmJ1dHRvbl90eXBlX3NhdmUnKTtcbiAgfVxuXG4gICNnZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLiNmb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy4jaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLiNmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuI2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCh0aGlzLiNnZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLiNmb3JtLnJlc2V0KCk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICAjcHJvZmlsZU5hbWU7XG4gICNwcm9maWxlQmlvO1xuICAjcHJvZmlsZUF2YXRhcjtcbiAgI2F2YXRhcjtcbiAgI2lkO1xuXG4gIGNvbnN0cnVjdG9yKHVzZXJEYXRhU2VsZWN0b3JzKSB7XG4gICAgdGhpcy4jcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRhdGFTZWxlY3RvcnMucHJvZmlsZU5hbWVTZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy4jcHJvZmlsZUJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB1c2VyRGF0YVNlbGVjdG9ycy5wcm9maWxlQmlvU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuI3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRhdGFTZWxlY3RvcnMucHJvZmlsZUF2YXRhclNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLiNwcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLiNwcm9maWxlQmlvLnRleHRDb250ZW50LFxuICAgICAgLy8gYXZhdGFyOiB0aGlzLiNwcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8obmV3VXNlckRhdGEpIHtcbiAgICBpZiAobmV3VXNlckRhdGEubmFtZSkge1xuICAgICAgdGhpcy4jcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuZXdVc2VyRGF0YS5uYW1lO1xuICAgIH1cbiAgICBpZiAobmV3VXNlckRhdGEuYWJvdXQpIHtcbiAgICAgIHRoaXMuI3Byb2ZpbGVCaW8udGV4dENvbnRlbnQgPSBuZXdVc2VyRGF0YS5hYm91dDtcbiAgICB9XG4gIH1cblxuICBzZXRBdmF0YXIoZGF0YSkge1xuICAgIGlmIChkYXRhLmF2YXRhcikge1xuICAgICAgdGhpcy4jcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPVxuICAgICAgICAndXJsKCcgKyBgJHtkYXRhLmF2YXRhcn1gICsgJyknO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgI2Jhc2VVcmw7XG4gICNoZWFkZXJzO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLiNiYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuI2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICAjaGFuZGxlUmVzcG9uc2UgPSAocmVzcG9uc2UpID0+IHtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG4gIH07XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgJy9jYXJkcycsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLiNoYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VyRGF0YSgpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy4jYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgc2F2ZVVzZXJEYXRhKGlucHV0RGF0YSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnB1dERhdGEpLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTmV3Q2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgJy9jYXJkcycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKSxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyBgL2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKGlucHV0TGluaykge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgYC91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoaW5wdXRMaW5rKSxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gICNoYW5kbGVGb3JtU3VibWl0O1xuICAjZm9ybVZhbHVlcztcbiAgI2lucHV0TGlzdDtcbiAgI3BvcHVwO1xuICAjZm9ybTtcbiAgI3N1Ym1pdEJ1dHRvbjtcblxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgLy8g0L/RgNC4INC30LDQv9C40YHQuCDQv9GA0LjQstCw0YLQvdGL0YUg0L/QvtC70LXQuSDRh9C10YDQtdC3IGhhc2ggbmFtZXMg0LTQvtGB0YLRg9C/0LAg0Log0L/RgNC40LLQsNGC0L3Ri9C8INC/0L7Qu9GP0Lwg0YHQvdCw0YDRg9C20Lgg0LrQu9Cw0YHRgdCwINC90LXRgiwg0LLQutC70Y7Rh9Cw0Y8g0LrQu9Cw0YHRgdGLLdC/0L7RgtC+0LzQutC4XG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTU4NjU0MDMvaG93LXRvLWFjY2Vzcy10aGUtc3VwZXItY2xhc3NzLXByaXZhdGUtbWVtYmVyLWluLWphdmFzY3JpcHRcbiAgICB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jZm9ybSA9IHRoaXMuI3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XG4gICAgdGhpcy4jc3VibWl0QnV0dG9uID0gdGhpcy4jcG9wdXAucXVlcnlTZWxlY3RvcignLmJ1dHRvbl90eXBlX3NhdmUnKTtcbiAgfVxuXG4gIHNldEZvcm1IYW5kbGVyKGhhbmRsZXIpIHtcbiAgICB0aGlzLiNoYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlcjtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuI2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLiNoYW5kbGVGb3JtU3VibWl0KCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQo9C00LDQu9C10L3QuNC1Li4uJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gJ9CU0LAnO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7XG4gIHZhbGlkYXRpb25Db25maWcsXG4gIGVkaXRJbmZvQnV0dG9uLFxuICBhZGRQbGFjZUJ1dHRvbixcbiAgYWRkUGxhY2VGb3JtRWxlbWVudCxcbiAgYWRkUGxhY2VQb3B1cFNlbGVjdG9yLFxuICBjYXJkVGVtcGxhdGVTZWxlY3RvcixcbiAgY2FyZHNDb250YWluZXJTZWxlY3RvcixcbiAgZWRpdEluZm9Gb3JtRWxlbWVudCxcbiAgZWRpdEluZm9Qb3B1cFNlbGVjdG9yLFxuICBwb3B1cEZ1bGxQaG90b1NlbGVjdG9yLFxuICBiaW9JbnB1dCxcbiAgbmFtZUlucHV0LFxuICB1c2VyRGF0YVNlbGVjdG9ycyxcbiAgY29uZmlybURlbGV0aW9uUG9wdXBTZWxlY3RvcixcbiAgdXBkYXRlQXZhdGFyUG9wdXBTZWxlY3RvcixcbiAgdXBkYXRlUHJvZmlsZUF2YXRhckJ1dHRvbixcbiAgdXBkYXRlQXZhdGFyRm9ybUVsZW1lbnQsXG4gIHRva2VuLFxuICBzZXJ2ZXJVcmwsXG59IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcyc7XG5cbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanMnO1xuXG5sZXQgbXlVc2VySWQgPSBudWxsO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogc2VydmVyVXJsLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogdG9rZW4sXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbn0pO1xuXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh1c2VyRGF0YVNlbGVjdG9ycyk7XG5cbmZ1bmN0aW9uIGxpa2VDYXJkKGNhcmQpIHtcbiAgY29uc3QgY2hlY2tGb3JMaWtlID0gY2FyZC5pc0xpa2VkKClcbiAgICA/IGFwaS5kaXNsaWtlQ2FyZChjYXJkLmdldENhcmRJZCgpKVxuICAgIDogYXBpLmxpa2VDYXJkKGNhcmQuZ2V0Q2FyZElkKCkpO1xuICBjaGVja0Zvckxpa2VcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgY2FyZC5zZXRMaWtlKGRhdGEpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZUNhcmQoY2FyZCkge1xuICBwb3B1cERlbGV0ZVBsYWNlLm9wZW4oKTtcbiAgcG9wdXBEZWxldGVQbGFjZS5zZXRGb3JtSGFuZGxlcigoKSA9PiB7XG4gICAgcG9wdXBEZWxldGVQbGFjZS5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5nZXRDYXJkSWQoKSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgY2FyZC5kZWxldGVDYXJkKCk7XG4gICAgICAgIHBvcHVwRGVsZXRlUGxhY2UuY2xvc2UoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgcG9wdXBEZWxldGVQbGFjZS5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZCh7XG4gICAgZGF0YTogaXRlbSxcbiAgICB0ZW1wbGF0ZVNlbGVjdG9yOiBjYXJkVGVtcGxhdGVTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICBwb3B1cEZ1bGxQaG90by5vcGVuKG5hbWUsIGxpbmspO1xuICAgIH0sXG4gICAgaGFuZGxlQ2FyZERlbGV0ZTogKGNhcmRJbnN0YW5jZSkgPT4ge1xuICAgICAgZGVsZXRlQ2FyZChjYXJkSW5zdGFuY2UpO1xuICAgIH0sXG4gICAgaGFuZGxlQ2FyZExpa2U6IChjYXJkSW5zdGFuY2UpID0+IHtcbiAgICAgIGxpa2VDYXJkKGNhcmRJbnN0YW5jZSk7XG4gICAgfSxcbiAgICBteVVzZXJJZDogbXlVc2VySWQsXG4gIH0pO1xuICByZXR1cm4gY2FyZC5jcmVhdGVDYXJkKCk7XG59XG5cbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcbiAgICB9LFxuICB9LFxuICBjYXJkc0NvbnRhaW5lclNlbGVjdG9yXG4pO1xuXG5Qcm9taXNlLmFsbChbYXBpLmdldFVzZXJEYXRhKCksIGFwaS5nZXRJbml0aWFsQ2FyZHMoKV0pXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgY29uc3QgW3VzZXJEYXRhLCBjYXJkc0RhdGFdID0gZGF0YTtcbiAgICBteVVzZXJJZCA9IHVzZXJEYXRhLl9pZDtcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XG4gICAgdXNlckluZm8uc2V0QXZhdGFyKHVzZXJEYXRhKTtcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMoY2FyZHNEYXRhKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KTtcblxuLy8gcG9wdXBzIGFuZCB0aGVpcnMgbGlzdGVuZXJzXG5jb25zdCBwb3B1cEZ1bGxQaG90byA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cEZ1bGxQaG90b1NlbGVjdG9yKTtcbnBvcHVwRnVsbFBob3RvLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwRWRpdEluZm8gPSBuZXcgUG9wdXBXaXRoRm9ybShlZGl0SW5mb1BvcHVwU2VsZWN0b3IsIChpbnB1dERhdGEpID0+IHtcbiAgcG9wdXBFZGl0SW5mby5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAuc2F2ZVVzZXJEYXRhKGlucHV0RGF0YSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhpbnB1dERhdGEpO1xuICAgICAgcG9wdXBFZGl0SW5mby5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcG9wdXBFZGl0SW5mby5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICB9KTtcbn0pO1xuXG5wb3B1cEVkaXRJbmZvLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5lZGl0SW5mb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBFZGl0SW5mby5vcGVuKCk7XG4gIGNvbnN0IHByb2ZpbGVEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gcHJvZmlsZURhdGEubmFtZTtcbiAgYmlvSW5wdXQudmFsdWUgPSBwcm9maWxlRGF0YS5hYm91dDtcbiAgZWRpdEluZm9Gb3JtVmFsaWRhdG9yLmhpZGVFcnJvcigpO1xufSk7XG5cbmNvbnN0IHBvcHVwQWRkUGxhY2UgPSBuZXcgUG9wdXBXaXRoRm9ybShhZGRQbGFjZVBvcHVwU2VsZWN0b3IsIChpbnB1dERhdGEpID0+IHtcbiAgcG9wdXBBZGRQbGFjZS5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAuYWRkTmV3Q2FyZChpbnB1dERhdGEpXG4gICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oXG4gICAgICAgIGNyZWF0ZUNhcmQoe1xuICAgICAgICAgIG5hbWU6IGlucHV0RGF0YS5uYW1lLFxuICAgICAgICAgIGxpbms6IGlucHV0RGF0YS5saW5rLFxuICAgICAgICAgIGxpa2VzOiBbXSxcbiAgICAgICAgICBvd25lcjogeyBfaWQ6IG15VXNlcklkIH0sXG4gICAgICAgICAgX2lkOiByZXN1bHQuX2lkLFxuICAgICAgICB9KSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICBwb3B1cEFkZFBsYWNlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwQWRkUGxhY2UucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59KTtcblxucG9wdXBBZGRQbGFjZS5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkUGxhY2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQWRkUGxhY2Uub3BlbigpO1xuICBhZGRQbGFjZUZvcm1FbGVtZW50LnJlc2V0KCk7XG4gIGFkZFBsYWNlRm9ybVZhbGlkYXRvci5oaWRlRXJyb3IoKTtcbn0pO1xuXG5jb25zdCBwb3B1cFVwZGF0ZUF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB1cGRhdGVBdmF0YXJQb3B1cFNlbGVjdG9yLFxuICAoaW5wdXQpID0+IHtcbiAgICBwb3B1cFVwZGF0ZUF2YXRhci5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaVxuICAgICAgLnVwZGF0ZUF2YXRhcihpbnB1dClcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgdXNlckluZm8uc2V0QXZhdGFyKHJlc3VsdCk7XG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwVXBkYXRlQXZhdGFyLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSk7XG4gIH1cbik7XG5cbnBvcHVwVXBkYXRlQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG51cGRhdGVQcm9maWxlQXZhdGFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cFVwZGF0ZUF2YXRhci5vcGVuKCk7XG59KTtcblxuY29uc3QgcG9wdXBEZWxldGVQbGFjZSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oXG4gIGNvbmZpcm1EZWxldGlvblBvcHVwU2VsZWN0b3Jcbik7XG5wb3B1cERlbGV0ZVBsYWNlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIGZvcm1zIHZhbGlkYXRpb25cbmNvbnN0IHVwZGF0ZUF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgdXBkYXRlQXZhdGFyRm9ybUVsZW1lbnRcbik7XG51cGRhdGVBdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgZWRpdEluZm9Gb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIGVkaXRJbmZvRm9ybUVsZW1lbnRcbik7XG5lZGl0SW5mb0Zvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhZGRQbGFjZUZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgdmFsaWRhdGlvbkNvbmZpZyxcbiAgYWRkUGxhY2VGb3JtRWxlbWVudFxuKTtcbmFkZFBsYWNlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4iXSwibmFtZXMiOlsidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZWRpdEluZm9CdXR0b24iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJlZGl0SW5mb0Zvcm1FbGVtZW50IiwibmFtZUlucHV0IiwiYmlvSW5wdXQiLCJhZGRQbGFjZUJ1dHRvbiIsImFkZFBsYWNlRm9ybUVsZW1lbnQiLCJ1cGRhdGVQcm9maWxlQXZhdGFyQnV0dG9uIiwidXBkYXRlQXZhdGFyRm9ybUVsZW1lbnQiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwicmVtb3ZlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzb21lIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwicmVuZGVyZWRJdGVtcyIsIml0ZW0iLCJlbGVtZW50Iiwib3JkZXIiLCJhcHBlbmQiLCJwcmVwZW5kIiwiQ2FyZCIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImhhbmRsZUNhcmRMaWtlIiwibXlVc2VySWQiLCJuYW1lIiwibGluayIsIm93bmVyIiwiX2lkIiwibGlrZXMiLCJsZW5ndGgiLCJzcmMiLCJhbHQiLCJpbm5lclRleHQiLCJzZXRMaWtlIiwiY29udGVudCIsImNsb25lTm9kZSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwicmVzZXQiLCJpc0xvYWRpbmciLCJpbnB1dCIsInZhbHVlIiwiVXNlckluZm8iLCJ1c2VyRGF0YVNlbGVjdG9ycyIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlQmlvU2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyU2VsZWN0b3IiLCJhYm91dCIsIm5ld1VzZXJEYXRhIiwiYXZhdGFyIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJBcGkiLCJvcHRpb25zIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJpbnB1dERhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmREYXRhIiwiY2FyZElkIiwiaW5wdXRMaW5rIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiaGFuZGxlciIsImFwaSIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsImNyZWF0ZUNhcmQiLCJwb3B1cEZ1bGxQaG90byIsIm9wZW4iLCJjYXJkSW5zdGFuY2UiLCJjYXJkIiwicG9wdXBEZWxldGVQbGFjZSIsInNldEZvcm1IYW5kbGVyIiwicmVuZGVyTG9hZGluZyIsImRlbGV0ZUNhcmQiLCJnZXRDYXJkSWQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwiaXNMaWtlZCIsImRpc2xpa2VDYXJkIiwibGlrZUNhcmQiLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwiYWxsIiwiZ2V0VXNlckRhdGEiLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YSIsImNhcmRzRGF0YSIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwRWRpdEluZm8iLCJzYXZlVXNlckRhdGEiLCJwcm9maWxlRGF0YSIsImdldFVzZXJJbmZvIiwiZWRpdEluZm9Gb3JtVmFsaWRhdG9yIiwiaGlkZUVycm9yIiwicG9wdXBBZGRQbGFjZSIsImFkZE5ld0NhcmQiLCJyZXN1bHQiLCJhZGRQbGFjZUZvcm1WYWxpZGF0b3IiLCJwb3B1cFVwZGF0ZUF2YXRhciIsInVwZGF0ZUF2YXRhciIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9