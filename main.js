!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{Y:function(){return Wt}});var t={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},n=document.querySelector(".button_type_edit"),r=document.querySelector(".profile-edit__form"),o=r.querySelector("[name='name']"),i=r.querySelector("[name='bio']"),a=document.querySelector(".button_type_add"),l=document.querySelector(".place-add__form");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,f(e,t,"get"))}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,f(e,t,"set"),n),n}function f(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}document.querySelector(".button_type_delete");var p=new WeakMap,v=new WeakMap,h=new WeakMap,d=new WeakMap,y=new WeakMap,w=new WeakMap,b=new WeakMap,m=new WeakMap,g=new WeakMap,k=new WeakMap,_=new WeakMap,E=new WeakMap,S=new WeakMap,W=new WeakMap,O=new WeakMap,M=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:function(e){e.validity.valid?u(r,E).call(r,e):u(r,_).call(r,e,e.validationMessage)}}),_.set(this,{writable:!0,value:function(e,t){var n=u(r,b).querySelector(".".concat(e.id,"-error"));e.classList.add(u(r,y)),n.textContent=t,n.classList.add(u(r,w))}}),E.set(this,{writable:!0,value:function(e){var t=u(r,b).querySelector(".".concat(e.id,"-error"));e.classList.remove(u(r,y)),t.classList.remove(u(r,w)),t.textContent=""}}),c(this,"hideError",(function(){u(r,m).forEach((function(e){u(r,E).call(r,e),u(r,W).call(r)}))})),S.set(this,{writable:!0,value:function(){u(r,W).call(r),u(r,m).forEach((function(e){e.addEventListener("input",(function(){u(r,k).call(r,e),u(r,W).call(r)}))}))}}),W.set(this,{writable:!0,value:function(){u(r,O).call(r)?(u(r,g).classList.add(u(r,d)),u(r,g).setAttribute("disabled",!0)):(u(r,g).classList.remove(u(r,d)),u(r,g).removeAttribute("disabled"))}}),O.set(this,{writable:!0,value:function(){return u(r,m).some((function(e){return!e.validity.valid}))}}),c(this,"enableValidation",(function(){u(r,b).addEventListener("submit",(function(e){e.preventDefault(),u(r,W).call(r)})),u(r,S).call(r)})),s(this,p,t.formSelector),s(this,v,t.inputSelector),s(this,h,t.submitButtonSelector),s(this,d,t.inactiveButtonClass),s(this,y,t.inputErrorClass),s(this,w,t.errorClass),s(this,b,n),s(this,m,Array.from(u(this,b).querySelectorAll(u(this,v)))),s(this,g,u(this,b).querySelector(u(this,h)))};function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,P(e,t,"get"))}function C(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,P(e,t,"set"),n),n}function P(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var L=new WeakMap,q=new WeakMap,R=new WeakMap,x=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L.set(this,{writable:!0,value:void 0}),q.set(this,{writable:!0,value:void 0}),R.set(this,{writable:!0,value:void 0}),C(this,q,r),C(this,R,document.querySelector(n))}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){T(t,q).call(t,e)}))}},{key:"addItem",value:function(e){T(this,R).prepend(e)}}])&&j(t.prototype,n),e}();function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function U(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,A(e,t,"get"))}function D(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,A(e,t,"set"),n),n}function A(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var N=new WeakMap,z=new WeakMap,V=new WeakMap,J=new WeakMap,H=new WeakMap,Y=new WeakMap,F=new WeakMap,G=new WeakMap,K=new WeakMap,Q=new WeakMap,X=new WeakMap,Z=new WeakMap,$=new WeakSet,ee=new WeakSet,te=new WeakSet,ne=new WeakSet,re=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ne.add(this),te.add(this),ee.add(this),$.add(this),N.set(this,{writable:!0,value:void 0}),z.set(this,{writable:!0,value:void 0}),V.set(this,{writable:!0,value:void 0}),J.set(this,{writable:!0,value:void 0}),H.set(this,{writable:!0,value:void 0}),Y.set(this,{writable:!0,value:void 0}),F.set(this,{writable:!0,value:void 0}),G.set(this,{writable:!0,value:void 0}),K.set(this,{writable:!0,value:void 0}),Q.set(this,{writable:!0,value:void 0}),X.set(this,{writable:!0,value:void 0}),Z.set(this,{writable:!0,value:void 0}),D(this,N,t.name),D(this,z,t.link),D(this,Q,t.owner._id),D(this,Z,t._id),t.likes.length?D(this,K,t.likes.length):D(this,K,0),D(this,V,n),D(this,G,r),D(this,X,o)}var t,n;return t=e,(n=[{key:"getCardId",value:function(){return U(this,Z)}},{key:"createCard",value:function(){return D(this,J,B(this,$,oe).call(this)),D(this,F,U(this,J).querySelector(".place__photo")),U(this,F).src=U(this,z),U(this,F).alt=U(this,N),U(this,J).querySelector(".place__title").innerText=U(this,N),D(this,H,U(this,J).querySelector(".place__delete")),D(this,Y,U(this,J).querySelector(".place__like")),U(this,J).querySelector(".place__likes-count").textContent=U(this,K),U(this,Q)==Wt&&U(this,H).classList.remove("place__delete_active"),B(this,ee,ie).call(this),U(this,J)}}])&&I(t.prototype,n),e}();function oe(){return document.querySelector(U(this,V)).content.querySelector(".place").cloneNode(!0)}function ie(){var e=this;U(this,H).addEventListener("click",(function(){console.log("1"),U(e,X).call(e,e)})),U(this,Y).addEventListener("click",(function(){B(e,ne,ae).call(e)})),U(this,F).addEventListener("click",(function(){U(e,G).call(e,U(e,N),U(e,z))}))}function ae(){U(this,Y).classList.toggle("place__like_active")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ue(e,t,"get"))}function ue(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var se=new WeakMap,fe=new WeakMap,pe=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se.set(this,{writable:!0,value:void 0}),fe.set(this,{writable:!0,value:function(e){"Escape"===e.key&&i.close()}}),n=this,r=se,o=document.querySelector(t),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(n,ue(n,r,"set"),o)}var t,n;return t=e,(n=[{key:"open",value:function(){ce(this,se).classList.add("popup_opened"),document.addEventListener("keydown",ce(this,fe))}},{key:"close",value:function(){ce(this,se).classList.remove("popup_opened"),document.removeEventListener("keydown",ce(this,fe))}},{key:"setEventListeners",value:function(){var e=this;ce(this,se).querySelector(".popup__close").addEventListener("click",(function(){e.close()})),ce(this,se).addEventListener("click",(function(t){t.target===t.currentTarget&&e.close()}))}}])&&le(t.prototype,n),e}();function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return(de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e,t){return!t||"object"!==ve(t)&&"function"!=typeof t?be(e):t}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,_e(e,t,"get"))}function ke(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,_e(e,t,"set"),n),n}function _e(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ee=new WeakMap,Se=new WeakMap,We=new WeakMap,Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=me(r);if(o){var n=me(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return we(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),Ee.set(be(t),{writable:!0,value:void 0}),Se.set(be(t),{writable:!0,value:void 0}),We.set(be(t),{writable:!0,value:void 0}),ke(be(t),Ee,document.querySelector(e)),ke(be(t),Se,ge(be(t),Ee).querySelector(".place-full-photo__image")),ke(be(t),We,ge(be(t),Ee).querySelector(".place-full-photo__caption")),t}return t=a,(n=[{key:"open",value:function(e,t){ge(this,Se).src=t,ge(this,Se).alt=e,ge(this,We).textContent=e,de(me(a.prototype),"open",this).call(this)}}])&&he(t.prototype,n),a}(pe);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t,n){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=qe(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Re(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ie(e,t,"get"))}function xe(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ie(e,t,"set"),n),n}function Ie(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Be=new WeakMap,Ue=new WeakMap,De=new WeakMap,Ae=new WeakMap,Ne=new WeakMap,ze=new WeakSet,Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(r);if(o){var n=qe(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Pe(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,e),ze.add(Le(n)),Be.set(Le(n),{writable:!0,value:void 0}),Ue.set(Le(n),{writable:!0,value:void 0}),De.set(Le(n),{writable:!0,value:void 0}),Ae.set(Le(n),{writable:!0,value:void 0}),Ne.set(Le(n),{writable:!0,value:void 0}),xe(Le(n),Ae,document.querySelector(e)),xe(Le(n),Be,t),xe(Le(n),Ne,Re(Le(n),Ae).querySelector(".form")),xe(Le(n),De,Re(Le(n),Ae).querySelectorAll(".form__input")),n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;Re(this,Ne).addEventListener("submit",(function(t){t.preventDefault(),Re(e,Be).call(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(e,ze,Je).call(e))})),Te(qe(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){Te(qe(a.prototype),"close",this).call(this),Re(this,Ne).reset()}}])&&je(t.prototype,n),a}(pe);function Je(){var e=this;return xe(this,Ue,{}),Re(this,De).forEach((function(t){Re(e,Ue)[t.name]=t.value})),Re(this,Ue)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ye(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ge(e,t,"get"))}function Fe(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ge(e,t,"set"),n),n}function Ge(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ke=new WeakMap,Qe=new WeakMap,Xe=new WeakMap,Ze=new WeakMap,$e=new WeakMap,et=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ke.set(this,{writable:!0,value:void 0}),Qe.set(this,{writable:!0,value:void 0}),Xe.set(this,{writable:!0,value:void 0}),Ze.set(this,{writable:!0,value:void 0}),$e.set(this,{writable:!0,value:void 0}),Fe(this,Ke,document.querySelector(t.profileNameSelector)),Fe(this,Qe,document.querySelector(t.profileBioSelector)),Fe(this,Xe,document.querySelector(t.profileAvatarSelector))}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:Ye(this,Ke).textContent,bio:Ye(this,Qe).textContent,avatar:Ye(this,Ze),id:Ye(this,$e)}}},{key:"setUserInfo",value:function(e){Ye(this,Ke).textContent=e.name,Ye(this,Qe).textContent=e.bio,Ye(this,Xe).src=e.avatar,Fe(this,$e,e.id),console.log(this)}}])&&He(t.prototype,n),e}();function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ot(e,t,"get"))}function rt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ot(e,t,"set"),n),n}function ot(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var it=new WeakMap,at=new WeakMap,lt=new WeakMap,ct=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),it.set(this,{writable:!0,value:void 0}),at.set(this,{writable:!0,value:void 0}),lt.set(this,{writable:!0,value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}),rt(this,it,t.baseUrl),rt(this,at,t.headers)}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(nt(this,it)+"/cards",{headers:nt(this,at)}).then(nt(this,lt))}},{key:"getUserData",value:function(){return fetch(nt(this,it)+"/users/me",{headers:nt(this,at)}).then(nt(this,lt))}},{key:"saveUserData",value:function(e){return fetch(nt(this,it)+"/users/me",{method:"PATCH",headers:{authorization:"3936a02f-bc3d-48a7-bceb-bcb201e7df53","Content-Type":"application/json"},body:JSON.stringify({name:e.name,about:e.bio})}).then(nt(this,lt))}},{key:"addNewCard",value:function(e){return fetch(nt(this,it)+"/cards",{method:"POST",headers:{authorization:"3936a02f-bc3d-48a7-bceb-bcb201e7df53","Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then(nt(this,lt))}},{key:"deleteCard",value:function(e){return fetch(nt(this,it)+"/cards/".concat(e),{method:"DELETE",headers:{authorization:"3936a02f-bc3d-48a7-bceb-bcb201e7df53","Content-Type":"application/json"}}).then(nt(this,lt))}}])&&tt(t.prototype,n),e}();function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t,n){return(ft="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?ht(e):t}function ht(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,bt(e,t,"get"))}function wt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,bt(e,t,"set"),n),n}function bt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var mt=new WeakMap,gt=new WeakMap,kt=new WeakMap,_t=new WeakMap,Et=new WeakMap,St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dt(r);if(o){var n=dt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vt(this,e)});function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,e),mt.set(ht(n),{writable:!0,value:void 0}),gt.set(ht(n),{writable:!0,value:void 0}),kt.set(ht(n),{writable:!0,value:void 0}),_t.set(ht(n),{writable:!0,value:void 0}),Et.set(ht(n),{writable:!0,value:void 0}),wt(ht(n),_t,document.querySelector(e)),wt(ht(n),mt,t),wt(ht(n),Et,yt(ht(n),_t).querySelector(".form")),n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;yt(this,Et).addEventListener("submit",(function(t){t.preventDefault(),yt(e,mt).call(e)})),ft(dt(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){ft(dt(a.prototype),"close",this).call(this)}}])&&st(t.prototype,n),a}(pe),Wt=null,Ot=new ct({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-26",headers:{authorization:"3936a02f-bc3d-48a7-bceb-bcb201e7df53","Content-Type":"application/json"}}),Mt=new et({profileNameSelector:".profile__name",profileBioSelector:".profile__bio",profileAvatarSelector:".profile__avatar"});Ot.getUserData().then((function(e){var t={};t.name=e.name,t.bio=e.about,t.avatar=e.avatar,t.id=e._id,Wt=e._id,console.log(t),Mt.setUserInfo(t)})).catch((function(e){console.log(e)}));var jt=Ot.getInitialCards(),Tt=new x({renderer:function(e){Tt.addItem(Lt(e))}},".places");jt.then((function(e){console.log(e),Tt.renderItems(e)})).catch((function(e){console.log(e)}));var Ct=new Oe(".place-full-photo");Ct.setEventListeners();var Pt=new Ve(".profile-edit",(function(e){Mt.setUserInfo(e),Ot.saveUserData(e),Pt.close()}));function Lt(e){return new re(e,".card-template",(function(e,t){Ct.open(e,t)}),(function(e){console.log("opened"),Rt.open();var t=e.getCardId();console.log(t)})).createCard()}Pt.setEventListeners(),n.addEventListener("click",(function(){Pt.open();var e=Mt.getUserInfo();o.value=e.name,i.value=e.bio,xt.hideError()}));var qt=new Ve(".place-add",(function(e){e.likes=[],e.owner={_id:Mt.getUserInfo().id},console.log(e.owner),Tt.addItem(Lt(e)),Ot.addNewCard(e),qt.close()}));qt.setEventListeners(),a.addEventListener("click",(function(){qt.open(),l.reset(),It.hideError()}));var Rt=new St(".card-delete-confirmation",(function(){Rt.close()}));Rt.setEventListeners();var xt=new M(t,r);xt.enableValidation();var It=new M(t,l);It.enableValidation()}();