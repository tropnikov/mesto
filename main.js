!function(){"use strict";var e={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".form__submit",inactiveButtonClass:"button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},t=document.querySelector(".button_type_edit"),n=document.querySelector(".profile-edit__form"),r=n.querySelector("[name='name']"),o=n.querySelector("[name='about']"),i=document.querySelector(".button_type_add"),a=document.querySelector(".place-add__form"),l=(document.querySelector(".button_type_delete"),document.querySelector(".profile__avatar")),u=document.querySelector(".avatar-update__form");function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function f(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,h(e,t,"get"))}function p(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,h(e,t,"set"),n),n}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var d=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,b=new WeakMap,m=new WeakMap,k=new WeakMap,g=new WeakMap,_=new WeakMap,E=new WeakMap,S=new WeakMap,C=new WeakMap,W=new WeakMap,M=new WeakMap,O=new WeakMap,L=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),s(this,d,{writable:!0,value:void 0}),s(this,v,{writable:!0,value:void 0}),s(this,y,{writable:!0,value:void 0}),s(this,w,{writable:!0,value:void 0}),s(this,b,{writable:!0,value:void 0}),s(this,m,{writable:!0,value:void 0}),s(this,k,{writable:!0,value:void 0}),s(this,g,{writable:!0,value:void 0}),s(this,_,{writable:!0,value:void 0}),s(this,E,{writable:!0,value:function(e){e.validity.valid?f(r,C).call(r,e):f(r,S).call(r,e,e.validationMessage)}}),s(this,S,{writable:!0,value:function(e,t){var n=f(r,k).querySelector(".".concat(e.id,"-error"));e.classList.add(f(r,b)),n.textContent=t,n.classList.add(f(r,m))}}),s(this,C,{writable:!0,value:function(e){var t=f(r,k).querySelector(".".concat(e.id,"-error"));e.classList.remove(f(r,b)),t.classList.remove(f(r,m)),t.textContent=""}}),c(this,"hideError",(function(){f(r,g).forEach((function(e){f(r,C).call(r,e),f(r,M).call(r)}))})),s(this,W,{writable:!0,value:function(){f(r,M).call(r),f(r,g).forEach((function(e){e.addEventListener("input",(function(){f(r,E).call(r,e),f(r,M).call(r)}))}))}}),s(this,M,{writable:!0,value:function(){f(r,O).call(r)?(f(r,_).classList.add(f(r,w)),f(r,_).setAttribute("disabled",!0)):(f(r,_).classList.remove(f(r,w)),f(r,_).removeAttribute("disabled"))}}),s(this,O,{writable:!0,value:function(){return f(r,g).some((function(e){return!e.validity.valid}))}}),c(this,"enableValidation",(function(){f(r,k).addEventListener("submit",(function(e){e.preventDefault(),f(r,M).call(r)})),f(r,W).call(r)})),p(this,d,t.formSelector),p(this,v,t.inputSelector),p(this,y,t.submitButtonSelector),p(this,w,t.inactiveButtonClass),p(this,b,t.inputErrorClass),p(this,m,t.errorClass),p(this,k,n),p(this,g,Array.from(f(this,k).querySelectorAll(f(this,v)))),p(this,_,f(this,k).querySelector(f(this,y)))};function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function P(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,R(e,t,"get"))}function q(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,R(e,t,"set"),n),n}function R(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var I=new WeakMap,A=new WeakMap,x=new WeakMap,D=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),j(this,I,{writable:!0,value:void 0}),j(this,A,{writable:!0,value:void 0}),j(this,x,{writable:!0,value:void 0}),q(this,A,r),q(this,x,document.querySelector(n))}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){P(t,A).call(t,e)}))}},{key:"addItem",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t?P(this,x).append(e):P(this,x).prepend(e)}}])&&T(t.prototype,n),e}();function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t){N(e,t),t.add(e)}function z(e,t,n){N(e,t),t.set(e,n)}function N(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function H(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function V(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,F(e,t,"get"))}function J(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,F(e,t,"set"),n),n}function F(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var $=new WeakMap,G=new WeakMap,K=new WeakMap,Q=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,oe=new WeakMap,ie=new WeakMap,ae=new WeakMap,le=new WeakMap,ue=new WeakMap,ce=new WeakSet,se=new WeakSet,fe=function(){function e(t){var n=t.data,r=t.templateSelector,o=t.handleCardClick,i=t.handleCardDelete,a=t.handleCardLike,l=t.myUserId;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),B(this,se),B(this,ce),z(this,$,{writable:!0,value:void 0}),z(this,G,{writable:!0,value:void 0}),z(this,K,{writable:!0,value:void 0}),z(this,Q,{writable:!0,value:void 0}),z(this,X,{writable:!0,value:void 0}),z(this,Y,{writable:!0,value:void 0}),z(this,Z,{writable:!0,value:void 0}),z(this,ee,{writable:!0,value:void 0}),z(this,te,{writable:!0,value:void 0}),z(this,ne,{writable:!0,value:void 0}),z(this,re,{writable:!0,value:void 0}),z(this,oe,{writable:!0,value:void 0}),z(this,ie,{writable:!0,value:void 0}),z(this,ae,{writable:!0,value:void 0}),z(this,le,{writable:!0,value:void 0}),z(this,ue,{writable:!0,value:void 0}),J(this,$,n.name),J(this,G,n.link),J(this,te,n.owner._id),J(this,re,n._id),J(this,K,r),J(this,ee,o),J(this,ne,i),J(this,oe,a),J(this,ae,n),J(this,le,l)}var t,n;return t=e,(n=[{key:"getCardId",value:function(){return V(this,re)}},{key:"isLiked",value:function(){return V(this,ie)}},{key:"setLike",value:function(e){var t=this;V(this,Q).querySelector(".place__likes-count").textContent=e.likes.length,J(this,ie,e.likes.some((function(e){return e._id===V(t,le)}))),V(this,ie)?V(this,Y).classList.add("place__like_active"):V(this,Y).classList.remove("place__like_active")}},{key:"createCard",value:function(){return J(this,Q,H(this,ce,pe).call(this)),J(this,Z,V(this,Q).querySelector(".place__photo")),V(this,Z).src=V(this,G),V(this,Z).alt=V(this,$),V(this,Q).querySelector(".place__title").innerText=V(this,$),J(this,X,V(this,Q).querySelector(".place__delete")),J(this,Y,V(this,Q).querySelector(".place__like")),this.setLike(V(this,ae)),V(this,te)===V(this,le)&&V(this,X).classList.remove("place__delete_active"),H(this,se,he).call(this),V(this,Q)}},{key:"deleteCard",value:function(){V(this,Q).remove()}}])&&U(t.prototype,n),e}();function pe(){return document.querySelector(V(this,K)).content.querySelector(".place").cloneNode(!0)}function he(){var e=this;V(this,X).addEventListener("click",(function(){V(e,ne).call(e,e)})),V(this,Y).addEventListener("click",(function(){V(e,oe).call(e,e)})),V(this,Z).addEventListener("click",(function(){V(e,ee).call(e,V(e,$),V(e,G))}))}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(e,t))}var ye=new WeakMap,we=function(){function e(t){var n,r,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o={writable:!0,value:function(e){"Escape"===e.key&&i.close()}},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,r=ye),r.set(n,o),this.popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this.popup.classList.add("popup_opened"),document.addEventListener("keydown",ve(this,ye))}},{key:"close",value:function(){this.popup.classList.remove("popup_opened"),document.removeEventListener("keydown",ve(this,ye))}},{key:"setEventListeners",value:function(){var e=this;this.popup.querySelector(".popup__close").addEventListener("click",(function(){e.close()})),this.popup.addEventListener("click",(function(t){t.target===t.currentTarget&&e.close()}))}}])&&de(t.prototype,n),e}();function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t,n){return(ke="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Se(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function We(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Oe(e,t,"get"))}function Me(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Oe(e,t,"set"),n),n}function Oe(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Le=new WeakMap,Te=new WeakMap,je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Se(r);if(o){var n=Se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _e(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ce(Ee(t=i.call(this,e)),Le,{writable:!0,value:void 0}),Ce(Ee(t),Te,{writable:!0,value:void 0}),Me(Ee(t),Le,t.popup.querySelector(".place-full-photo__image")),Me(Ee(t),Te,t.popup.querySelector(".place-full-photo__caption")),t}return t=a,(n=[{key:"open",value:function(e,t){We(this,Le).src=t,We(this,Le).alt=e,We(this,Te).textContent=e,ke(Se(a.prototype),"open",this).call(this)}}])&&me(t.prototype,n),a}(we);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return(Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e,t){if(t&&("object"===Pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xe(e)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t,n){Be(e,t),t.set(e,n)}function Be(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ze(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,He(e,t,"get"))}function Ne(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,He(e,t,"set"),n),n}function He(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ve=new WeakMap,Je=new WeakMap,Fe=new WeakMap,$e=new WeakMap,Ge=new WeakMap,Ke=new WeakSet,Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=De(r);if(o){var n=De(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ae(this,e)});function a(e,t){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Be(r=xe(n=i.call(this,e)),o=Ke),o.add(r),Ue(xe(n),Ve,{writable:!0,value:void 0}),Ue(xe(n),Je,{writable:!0,value:void 0}),Ue(xe(n),Fe,{writable:!0,value:void 0}),Ue(xe(n),$e,{writable:!0,value:void 0}),Ue(xe(n),Ge,{writable:!0,value:void 0}),Ne(xe(n),Ve,t),Ne(xe(n),$e,n.popup.querySelector(".form")),Ne(xe(n),Fe,n.popup.querySelectorAll(".form__input")),Ne(xe(n),Ge,n.popup.querySelector(".button_type_save")),n}return t=a,(n=[{key:"setEventListeners",value:function(){var e=this;ze(this,$e).addEventListener("submit",(function(t){t.preventDefault(),ze(e,Ve).call(e,function(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}(e,Ke,Xe).call(e))})),Re(De(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){Re(De(a.prototype),"close",this).call(this),ze(this,$e).reset()}},{key:"renderLoading",value:function(e){ze(this,Ge).textContent=e?"Сохранение...":"Сохранить"}}])&&qe(t.prototype,n),a}(we);function Xe(){var e=this;return Ne(this,Je,{}),ze(this,Fe).forEach((function(t){ze(e,Je)[t.name]=t.value})),ze(this,Je)}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function et(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,nt(e,t,"get"))}function tt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,nt(e,t,"set"),n),n}function nt(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var rt=new WeakMap,ot=new WeakMap,it=new WeakMap,at=new WeakMap,lt=new WeakMap,ut=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ze(this,rt,{writable:!0,value:void 0}),Ze(this,ot,{writable:!0,value:void 0}),Ze(this,it,{writable:!0,value:void 0}),Ze(this,at,{writable:!0,value:void 0}),Ze(this,lt,{writable:!0,value:void 0}),tt(this,rt,document.querySelector(t.profileNameSelector)),tt(this,ot,document.querySelector(t.profileBioSelector)),tt(this,it,document.querySelector(t.profileAvatarSelector))}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:et(this,rt).textContent,about:et(this,ot).textContent}}},{key:"setUserInfo",value:function(e){e.name&&(et(this,rt).textContent=e.name),e.about&&(et(this,ot).textContent=e.about)}},{key:"setAvatar",value:function(e){e.avatar&&(et(this,it).style.backgroundImage="url("+"".concat(e.avatar)+")")}}])&&Ye(t.prototype,n),e}();function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function ft(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,ht(e,t,"get"))}function pt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ht(e,t,"set"),n),n}function ht(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var dt=new WeakMap,vt=new WeakMap,yt=new WeakMap,wt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),st(this,dt,{writable:!0,value:void 0}),st(this,vt,{writable:!0,value:void 0}),st(this,yt,{writable:!0,value:function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))}}),pt(this,dt,t.baseUrl),pt(this,vt,t.headers)}var t,n;return t=e,(n=[{key:"getInitialCards",value:function(){return fetch(ft(this,dt)+"/cards",{headers:ft(this,vt)}).then(ft(this,yt))}},{key:"getUserData",value:function(){return fetch(ft(this,dt)+"/users/me",{headers:ft(this,vt)}).then(ft(this,yt))}},{key:"saveUserData",value:function(e){return fetch(ft(this,dt)+"/users/me",{method:"PATCH",headers:ft(this,vt),body:JSON.stringify(e)}).then(ft(this,yt))}},{key:"addNewCard",value:function(e){return fetch(ft(this,dt)+"/cards",{method:"POST",headers:ft(this,vt),body:JSON.stringify(e)}).then(ft(this,yt))}},{key:"deleteCard",value:function(e){return fetch(ft(this,dt)+"/cards/".concat(e),{method:"DELETE",headers:ft(this,vt)}).then(ft(this,yt))}},{key:"likeCard",value:function(e){return fetch(ft(this,dt)+"/cards/likes/".concat(e),{method:"PUT",headers:ft(this,vt)}).then(ft(this,yt))}},{key:"dislikeCard",value:function(e){return fetch(ft(this,dt)+"/cards/likes/".concat(e),{method:"DELETE",headers:ft(this,vt)}).then(ft(this,yt))}},{key:"updateAvatar",value:function(e){return fetch(ft(this,dt)+"/users/me/avatar",{method:"PATCH",headers:ft(this,vt),body:JSON.stringify(e)}).then(ft(this,yt))}}])&&ct(t.prototype,n),e}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t,n){return(kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=St(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Et(e)}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ct(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Wt(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,Ot(e,t,"get"))}function Mt(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Ot(e,t,"set"),n),n}function Ot(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Lt=new WeakMap,Tt=new WeakMap,jt=new WeakMap,Pt=new WeakMap,qt=new WeakMap,Rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=St(r);if(o){var n=St(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _t(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ct(Et(t=i.call(this,e)),Lt,{writable:!0,value:void 0}),Ct(Et(t),Tt,{writable:!0,value:void 0}),Ct(Et(t),jt,{writable:!0,value:void 0}),Ct(Et(t),Pt,{writable:!0,value:void 0}),Ct(Et(t),qt,{writable:!0,value:void 0}),Mt(Et(t),Pt,t.popup.querySelector(".form")),Mt(Et(t),qt,t.popup.querySelector(".button_type_save")),t}return t=a,(n=[{key:"setFormHandler",value:function(e){Mt(this,Lt,e)}},{key:"setEventListeners",value:function(){var e=this;Wt(this,Pt).addEventListener("submit",(function(t){t.preventDefault(),Wt(e,Lt).call(e)})),kt(St(a.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){kt(St(a.prototype),"close",this).call(this)}},{key:"renderLoading",value:function(e){Wt(this,qt).textContent=e?"Удаление...":"Да"}}])&&mt(t.prototype,n),a}(we);function It(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var At=null,xt=new wt({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-27",headers:{authorization:"37580e29-ca43-4e60-bfc4-9731d6167691","Content-Type":"application/json"}}),Dt=new ut({profileNameSelector:".profile__name",profileBioSelector:".profile__bio",profileAvatarSelector:".profile__avatar"});function Ut(e){return new fe({data:e,templateSelector:".card-template",handleCardClick:function(e,t){zt.open(e,t)},handleCardDelete:function(e){var t;t=e,Jt.open(),Jt.setFormHandler((function(){Jt.renderLoading(!0),xt.deleteCard(t.getCardId()).then((function(){t.deleteCard(),Jt.close()})).catch((function(e){return console.log(e)})).finally((function(){Jt.renderLoading(!1)}))}))},handleCardLike:function(e){var t;((t=e).isLiked()?xt.dislikeCard(t.getCardId()):xt.likeCard(t.getCardId())).then((function(e){t.setLike(e)})).catch((function(e){console.log(e)}))},myUserId:At}).createCard()}var Bt=new D({renderer:function(e){Bt.addItem(Ut(e))}},".places");Promise.all([xt.getUserData(),xt.getInitialCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return It(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?It(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];At=o._id,Dt.setUserInfo(o),Dt.setAvatar(o),Bt.renderItems(i)})).catch((function(e){console.log(e)}));var zt=new je(".place-full-photo");zt.setEventListeners();var Nt=new Qe(".profile-edit",(function(e){Nt.renderLoading(!0),xt.saveUserData(e).then((function(){Dt.setUserInfo(e),Nt.close()})).catch((function(e){return console.log(e)})).finally((function(){Nt.renderLoading(!1)}))}));Nt.setEventListeners(),t.addEventListener("click",(function(){Nt.open();var e=Dt.getUserInfo();r.value=e.name,o.value=e.about,Ft.hideError()}));var Ht=new Qe(".place-add",(function(e){Ht.renderLoading(!0),xt.addNewCard(e).then((function(t){Bt.addItem(Ut({name:e.name,link:e.link,likes:[],owner:{_id:At},_id:t._id}),!1),Ht.close()})).catch((function(e){console.log(e)})).finally((function(){Ht.renderLoading(!1)}))}));Ht.setEventListeners(),i.addEventListener("click",(function(){Ht.open(),a.reset(),$t.hideError()}));var Vt=new Qe(".avatar-update",(function(e){Vt.renderLoading(!0),xt.updateAvatar(e).then((function(e){Dt.setAvatar(e),Vt.close()})).catch((function(e){console.log(e)})).finally((function(){Vt.renderLoading(!1)}))}));Vt.setEventListeners(),l.addEventListener("click",(function(){Vt.open()}));var Jt=new Rt(".card-delete-confirmation");Jt.setEventListeners(),new L(e,u).enableValidation();var Ft=new L(e,n);Ft.enableValidation();var $t=new L(e,a);$t.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQU1HLEdBQW1CLElBQUlWLEdWbExlLDZCVXFMNUNVLEdBQWlCdUIsb0JBR2lCLElBQUluSSxFQUNwQ2pCLEVBQ0FnQixHQUV3QmlKLG1CQUUxQixJQUFNUixHQUF3QixJQUFJeEksRUFDaENqQixFQUNBVSxHQUVGK0ksR0FBc0JRLG1CQUV0QixJQUFNSCxHQUF3QixJQUFJN0ksRUFDaENqQixFQUNBYyxHQUVGZ0osR0FBc0JHLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiAnLmZvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLmZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcuZm9ybV9fc3VibWl0JyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ2J1dHRvbl9kaXNhYmxlZCcsXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxuICBlcnJvckNsYXNzOiAnZm9ybV9faW5wdXQtZXJyb3JfYWN0aXZlJyxcbn07XG5cbmV4cG9ydCBjb25zdCBlZGl0SW5mb0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25fdHlwZV9lZGl0Jyk7XG5leHBvcnQgY29uc3QgZWRpdEluZm9Gb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcucHJvZmlsZS1lZGl0X19mb3JtJ1xuKTtcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBlZGl0SW5mb0Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbbmFtZT0nbmFtZSddXCIpO1xuZXhwb3J0IGNvbnN0IGJpb0lucHV0ID0gZWRpdEluZm9Gb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9J2Fib3V0J11cIik7XG5leHBvcnQgY29uc3QgYWRkUGxhY2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uX3R5cGVfYWRkJyk7XG5leHBvcnQgY29uc3QgYWRkUGxhY2VGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZS1hZGRfX2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBhZGRQbGFjZVBvcHVwU2VsZWN0b3IgPSAnLnBsYWNlLWFkZCc7XG5leHBvcnQgY29uc3QgZWRpdEluZm9Qb3B1cFNlbGVjdG9yID0gJy5wcm9maWxlLWVkaXQnO1xuZXhwb3J0IGNvbnN0IGNvbmZpcm1EZWxldGlvblBvcHVwU2VsZWN0b3IgPSAnLmNhcmQtZGVsZXRlLWNvbmZpcm1hdGlvbic7XG5leHBvcnQgY29uc3QgcG9wdXBGdWxsUGhvdG9TZWxlY3RvciA9ICcucGxhY2UtZnVsbC1waG90byc7XG5leHBvcnQgY29uc3QgY2FyZFRlbXBsYXRlU2VsZWN0b3IgPSAnLmNhcmQtdGVtcGxhdGUnO1xuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyU2VsZWN0b3IgPSAnLnBsYWNlcyc7XG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVTZWxlY3RvciA9ICcucHJvZmlsZV9fbmFtZSc7XG5leHBvcnQgY29uc3QgcHJvZmlsZUJpb1NlbGVjdG9yID0gJy5wcm9maWxlX19iaW8nO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJTZWxlY3RvciA9ICcucHJvZmlsZV9fYXZhdGFyJztcbmV4cG9ydCBjb25zdCB1c2VyRGF0YVNlbGVjdG9ycyA9IHtcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcixcbiAgcHJvZmlsZUJpb1NlbGVjdG9yLFxuICBwcm9maWxlQXZhdGFyU2VsZWN0b3IsXG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZVBsYWNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbl90eXBlX2RlbGV0ZScpO1xuZXhwb3J0IGNvbnN0IGRlbGV0ZVBsYWNlUG9wdXBTZWxlY3RvciA9ICcucGxhY2VfX2RlbGV0ZSc7XG5leHBvcnQgY29uc3QgdXBkYXRlQXZhdGFyUG9wdXBTZWxlY3RvciA9ICcuYXZhdGFyLXVwZGF0ZSc7XG5leHBvcnQgY29uc3QgdXBkYXRlUHJvZmlsZUF2YXRhckJ1dHRvbiA9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcbmV4cG9ydCBjb25zdCB1cGRhdGVBdmF0YXJGb3JtRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICcuYXZhdGFyLXVwZGF0ZV9fZm9ybSdcbik7XG5leHBvcnQgY29uc3Qgc2VydmVyVXJsID0gJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtMjcnO1xuZXhwb3J0IGNvbnN0IHRva2VuID0gJzM3NTgwZTI5LWNhNDMtNGU2MC1iZmM0LTk3MzFkNjE2NzY5MSc7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgI2Zvcm1TZWxlY3RvcjtcbiAgI2lucHV0U2VsZWN0b3I7XG4gICNzdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgI2luYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICNpbnB1dEVycm9yQ2xhc3M7XG4gICNlcnJvckNsYXNzO1xuICAjZm9ybUVsZW1lbnQ7XG4gICNpbnB1dExpc3Q7XG4gICNidXR0b247XG5cbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xuICAgIHRoaXMuI2Zvcm1TZWxlY3RvciA9IGNvbmZpZy5mb3JtU2VsZWN0b3I7XG4gICAgdGhpcy4jaW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuI3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuI2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLiNpbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuI2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLiNmb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICAgIHRoaXMuI2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuI2lucHV0U2VsZWN0b3IpXG4gICAgKTtcbiAgICB0aGlzLiNidXR0b24gPSB0aGlzLiNmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuI3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgfVxuXG4gICNjaGVja0lucHV0VmFsaWRpdHkgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuI3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9XG4gIH07XG5cbiAgI3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy4jZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy4jZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgI2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuI2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuI2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy4jZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gIH07XG5cbiAgaGlkZUVycm9yID0gKCkgPT4ge1xuICAgIHRoaXMuI2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuI2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gICNzZXRGb3JtRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy4jdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLiNpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuI2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgI3RvZ2dsZUJ1dHRvblN0YXRlID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLiNoYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy4jYnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy4jaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLiNidXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNidXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLiNpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuI2J1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9O1xuXG4gICNoYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuI2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24gPSAoKSA9PiB7XG4gICAgdGhpcy4jZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLiN0b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuI3NldEZvcm1FdmVudExpc3RlbmVycygpO1xuICB9O1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gICNyZW5kZXJlZEl0ZW1zO1xuICAjcmVuZGVyZXI7XG4gICNjb250YWluZXI7XG5cbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuI3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy4jY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcyhyZW5kZXJlZEl0ZW1zKSB7XG4gICAgcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLiNyZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCwgb3JkZXIgPSB0cnVlKSB7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICB0aGlzLiNjb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiNjb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8vIGltcG9ydCB7IG15VXNlcklkIH0gZnJvbSAnLi4vcGFnZXMvaW5kZXguanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gICNuYW1lO1xuICAjbGluaztcbiAgI3RlbXBsYXRlU2VsZWN0b3I7XG4gICNjYXJkO1xuICAjZGVsZXRlQnV0dG9uO1xuICAjbGlrZUJ1dHRvbjtcbiAgI3BsYWNlUGhvdG87XG4gICNoYW5kbGVDYXJkQ2xpY2s7XG4gICNvd25lcjtcbiAgI2hhbmRsZUNhcmREZWxldGU7XG4gICNjYXJkSWQ7XG4gICNoYW5kbGVDYXJkTGlrZTtcbiAgI2xpa2VkO1xuICAjZGF0YTtcbiAgI215VXNlcklkO1xuICAjbGlrZXM7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIGRhdGEsXG4gICAgdGVtcGxhdGVTZWxlY3RvcixcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXG4gICAgaGFuZGxlQ2FyZERlbGV0ZSxcbiAgICBoYW5kbGVDYXJkTGlrZSxcbiAgICBteVVzZXJJZCxcbiAgfSkge1xuICAgIHRoaXMuI25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy4jbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLiNvd25lciA9IGRhdGEub3duZXIuX2lkO1xuICAgIHRoaXMuI2NhcmRJZCA9IGRhdGEuX2lkO1xuICAgIC8vIHRoaXMuI2xpa2VzID0gZGF0YS5saWtlcztcbiAgICAvLyB0aGlzLiNsaWtlc0NvdW50ID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy4jdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy4jaGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuI2hhbmRsZUNhcmREZWxldGUgPSBoYW5kbGVDYXJkRGVsZXRlO1xuICAgIHRoaXMuI2hhbmRsZUNhcmRMaWtlID0gaGFuZGxlQ2FyZExpa2U7XG4gICAgdGhpcy4jZGF0YSA9IGRhdGE7XG4gICAgdGhpcy4jbXlVc2VySWQgPSBteVVzZXJJZDtcbiAgfVxuXG4gIGdldENhcmRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy4jY2FyZElkO1xuICB9XG5cbiAgI2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuI3RlbXBsYXRlU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKCcucGxhY2UnKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLiNsaWtlZDtcbiAgfVxuXG4gIHNldExpa2UoZGF0YSkge1xuICAgIHRoaXMuI2NhcmQucXVlcnlTZWxlY3RvcignLnBsYWNlX19saWtlcy1jb3VudCcpLnRleHRDb250ZW50ID1cbiAgICAgIGRhdGEubGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuI2xpa2VkID0gZGF0YS5saWtlcy5zb21lKChlbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gZWxlbWVudC5faWQgPT09IHRoaXMuI215VXNlcklkO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLiNsaWtlZCkge1xuICAgICAgdGhpcy4jbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdwbGFjZV9fbGlrZV9hY3RpdmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4jbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdwbGFjZV9fbGlrZV9hY3RpdmUnKTtcbiAgICB9XG4gIH1cblxuICBjcmVhdGVDYXJkKCkge1xuICAgIHRoaXMuI2NhcmQgPSB0aGlzLiNnZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuI3BsYWNlUGhvdG8gPSB0aGlzLiNjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fcGhvdG8nKTtcbiAgICB0aGlzLiNwbGFjZVBob3RvLnNyYyA9IHRoaXMuI2xpbms7XG4gICAgdGhpcy4jcGxhY2VQaG90by5hbHQgPSB0aGlzLiNuYW1lO1xuICAgIHRoaXMuI2NhcmQucXVlcnlTZWxlY3RvcignLnBsYWNlX190aXRsZScpLmlubmVyVGV4dCA9IHRoaXMuI25hbWU7XG4gICAgdGhpcy4jZGVsZXRlQnV0dG9uID0gdGhpcy4jY2FyZC5xdWVyeVNlbGVjdG9yKCcucGxhY2VfX2RlbGV0ZScpO1xuICAgIHRoaXMuI2xpa2VCdXR0b24gPSB0aGlzLiNjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5wbGFjZV9fbGlrZScpO1xuICAgIHRoaXMuc2V0TGlrZSh0aGlzLiNkYXRhKTtcbiAgICBpZiAodGhpcy4jb3duZXIgPT09IHRoaXMuI215VXNlcklkKSB7XG4gICAgICB0aGlzLiNkZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgncGxhY2VfX2RlbGV0ZV9hY3RpdmUnKTtcbiAgICB9XG4gICAgdGhpcy4jc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy4jY2FyZDtcbiAgfVxuXG4gICNzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVDYXJkRGVsZXRlKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuI2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLiNoYW5kbGVDYXJkTGlrZSh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLiNwbGFjZVBob3RvLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy4jaGFuZGxlQ2FyZENsaWNrKHRoaXMuI25hbWUsIHRoaXMuI2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICB0aGlzLiNjYXJkLnJlbW92ZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIC8vICNwb3B1cDtcblxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuI2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuI2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gICNoYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIC8vICNwb3B1cDtcbiAgI2Z1bGxQaG90b0ltYWdlO1xuICAjZnVsbFBob3RvQ2FwdGlvbjtcblxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgLy8gdGhpcy4jcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuI2Z1bGxQaG90b0ltYWdlID0gdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yKFxuICAgICAgJy5wbGFjZS1mdWxsLXBob3RvX19pbWFnZSdcbiAgICApO1xuICAgIHRoaXMuI2Z1bGxQaG90b0NhcHRpb24gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAnLnBsYWNlLWZ1bGwtcGhvdG9fX2NhcHRpb24nXG4gICAgKTtcbiAgfVxuXG4gIG9wZW4obmFtZSwgbGluaykge1xuICAgIHRoaXMuI2Z1bGxQaG90b0ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy4jZnVsbFBob3RvSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLiNmdWxsUGhvdG9DYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICBzdXBlci5vcGVuKCk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgI2hhbmRsZUZvcm1TdWJtaXQ7XG4gICNmb3JtVmFsdWVzO1xuICAjaW5wdXRMaXN0O1xuICAvLyAjcG9wdXA7XG4gICNmb3JtO1xuICAjc3VibWl0QnV0dG9uO1xuXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICAvLyB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy4jZm9ybSA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLiNpbnB1dExpc3QgPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtX19pbnB1dCcpO1xuICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbiA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignLmJ1dHRvbl90eXBlX3NhdmUnKTtcbiAgfVxuXG4gICNnZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLiNmb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy4jaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLiNmb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuI2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCh0aGlzLiNnZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLiNmb3JtLnJlc2V0KCk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICAjcHJvZmlsZU5hbWU7XG4gICNwcm9maWxlQmlvO1xuICAjcHJvZmlsZUF2YXRhcjtcbiAgI2F2YXRhcjtcbiAgI2lkO1xuXG4gIGNvbnN0cnVjdG9yKHVzZXJEYXRhU2VsZWN0b3JzKSB7XG4gICAgdGhpcy4jcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRhdGFTZWxlY3RvcnMucHJvZmlsZU5hbWVTZWxlY3RvclxuICAgICk7XG4gICAgdGhpcy4jcHJvZmlsZUJpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB1c2VyRGF0YVNlbGVjdG9ycy5wcm9maWxlQmlvU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuI3Byb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRhdGFTZWxlY3RvcnMucHJvZmlsZUF2YXRhclNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLiNwcm9maWxlTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGFib3V0OiB0aGlzLiNwcm9maWxlQmlvLnRleHRDb250ZW50LFxuICAgICAgLy8gYXZhdGFyOiB0aGlzLiNwcm9maWxlQXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8obmV3VXNlckRhdGEpIHtcbiAgICBpZiAobmV3VXNlckRhdGEubmFtZSkge1xuICAgICAgdGhpcy4jcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSBuZXdVc2VyRGF0YS5uYW1lO1xuICAgIH1cbiAgICBpZiAobmV3VXNlckRhdGEuYWJvdXQpIHtcbiAgICAgIHRoaXMuI3Byb2ZpbGVCaW8udGV4dENvbnRlbnQgPSBuZXdVc2VyRGF0YS5hYm91dDtcbiAgICB9XG4gIH1cblxuICBzZXRBdmF0YXIoZGF0YSkge1xuICAgIGlmIChkYXRhLmF2YXRhcikge1xuICAgICAgdGhpcy4jcHJvZmlsZUF2YXRhci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPVxuICAgICAgICAndXJsKCcgKyBgJHtkYXRhLmF2YXRhcn1gICsgJyknO1xuICAgIH1cbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgI2Jhc2VVcmw7XG4gICNoZWFkZXJzO1xuXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLiNiYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuI2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICAjaGFuZGxlUmVzcG9uc2UgPSAocmVzcG9uc2UpID0+IHtcbiAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChg0J7RiNC40LHQutCwOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG4gIH07XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgJy9jYXJkcycsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLiNoYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBnZXRVc2VyRGF0YSgpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy4jYmFzZVVybCArICcvdXNlcnMvbWUnLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgc2F2ZVVzZXJEYXRhKGlucHV0RGF0YSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgJy91c2Vycy9tZScsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuI2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShpbnB1dERhdGEpLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgYWRkTmV3Q2FyZChjYXJkRGF0YSkge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgJy9jYXJkcycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy4jaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNhcmREYXRhKSxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyBgL2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgZGlzbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuI2Jhc2VVcmwgKyBgL2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy4jaGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgdXBkYXRlQXZhdGFyKGlucHV0TGluaykge1xuICAgIHJldHVybiBmZXRjaCh0aGlzLiNiYXNlVXJsICsgYC91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLiNoZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoaW5wdXRMaW5rKSxcbiAgICB9KS50aGVuKHRoaXMuI2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gICNoYW5kbGVGb3JtU3VibWl0O1xuICAjZm9ybVZhbHVlcztcbiAgI2lucHV0TGlzdDtcbiAgLy8gI3BvcHVwO1xuICAjZm9ybTtcbiAgI3N1Ym1pdEJ1dHRvbjtcblxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgLy8g0L/RgNC4INC30LDQv9C40YHQuCDQv9GA0LjQstCw0YLQvdGL0YUg0L/QvtC70LXQuSDRh9C10YDQtdC3IGhhc2ggbmFtZXMg0LTQvtGB0YLRg9C/0LAg0Log0L/RgNC40LLQsNGC0L3Ri9C8INC/0L7Qu9GP0Lwg0YHQvdCw0YDRg9C20Lgg0LrQu9Cw0YHRgdCwINC90LXRgiwg0LLQutC70Y7Rh9Cw0Y8g0LrQu9Cw0YHRgdGLLdC/0L7RgtC+0LzQutC4XG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTU4NjU0MDMvaG93LXRvLWFjY2Vzcy10aGUtc3VwZXItY2xhc3NzLXByaXZhdGUtbWVtYmVyLWluLWphdmFzY3JpcHRcbiAgICAvLyB0aGlzLiNwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy4jZm9ybSA9IHRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgICB0aGlzLiNzdWJtaXRCdXR0b24gPSB0aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25fdHlwZV9zYXZlJyk7XG4gIH1cblxuICBzZXRGb3JtSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZXI7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLiNmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy4jaGFuZGxlRm9ybVN1Ym1pdCgpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLiNzdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KPQtNCw0LvQtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuI3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQlNCwJztcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG5pbXBvcnQge1xuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBlZGl0SW5mb0J1dHRvbixcbiAgYWRkUGxhY2VCdXR0b24sXG4gIGFkZFBsYWNlRm9ybUVsZW1lbnQsXG4gIGFkZFBsYWNlUG9wdXBTZWxlY3RvcixcbiAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXG4gIGNhcmRzQ29udGFpbmVyU2VsZWN0b3IsXG4gIGVkaXRJbmZvRm9ybUVsZW1lbnQsXG4gIGVkaXRJbmZvUG9wdXBTZWxlY3RvcixcbiAgcG9wdXBGdWxsUGhvdG9TZWxlY3RvcixcbiAgYmlvSW5wdXQsXG4gIG5hbWVJbnB1dCxcbiAgdXNlckRhdGFTZWxlY3RvcnMsXG4gIGNvbmZpcm1EZWxldGlvblBvcHVwU2VsZWN0b3IsXG4gIHVwZGF0ZUF2YXRhclBvcHVwU2VsZWN0b3IsXG4gIHVwZGF0ZVByb2ZpbGVBdmF0YXJCdXR0b24sXG4gIHVwZGF0ZUF2YXRhckZvcm1FbGVtZW50LFxuICB0b2tlbixcbiAgc2VydmVyVXJsLFxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBDYXJkIGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xuaW1wb3J0IEFwaSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzJztcblxubGV0IG15VXNlcklkID0gbnVsbDtcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IHNlcnZlclVybCxcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IHRva2VuLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gIH0sXG59KTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8odXNlckRhdGFTZWxlY3RvcnMpO1xuXG5mdW5jdGlvbiBsaWtlQ2FyZChjYXJkKSB7XG4gIGNvbnN0IGNoZWNrRm9yTGlrZSA9IGNhcmQuaXNMaWtlZCgpXG4gICAgPyBhcGkuZGlzbGlrZUNhcmQoY2FyZC5nZXRDYXJkSWQoKSlcbiAgICA6IGFwaS5saWtlQ2FyZChjYXJkLmdldENhcmRJZCgpKTtcbiAgY2hlY2tGb3JMaWtlXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIGNhcmQuc2V0TGlrZShkYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkZWxldGVDYXJkKGNhcmQpIHtcbiAgcG9wdXBEZWxldGVQbGFjZS5vcGVuKCk7XG4gIHBvcHVwRGVsZXRlUGxhY2Uuc2V0Rm9ybUhhbmRsZXIoKCkgPT4ge1xuICAgIHBvcHVwRGVsZXRlUGxhY2UucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuZ2V0Q2FyZElkKCkpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xuICAgICAgICBwb3B1cERlbGV0ZVBsYWNlLmNsb3NlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHBvcHVwRGVsZXRlUGxhY2UucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoe1xuICAgIGRhdGE6IGl0ZW0sXG4gICAgdGVtcGxhdGVTZWxlY3RvcjogY2FyZFRlbXBsYXRlU2VsZWN0b3IsXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAobmFtZSwgbGluaykgPT4ge1xuICAgICAgcG9wdXBGdWxsUGhvdG8ub3BlbihuYW1lLCBsaW5rKTtcbiAgICB9LFxuICAgIGhhbmRsZUNhcmREZWxldGU6IChjYXJkSW5zdGFuY2UpID0+IHtcbiAgICAgIGRlbGV0ZUNhcmQoY2FyZEluc3RhbmNlKTtcbiAgICB9LFxuICAgIGhhbmRsZUNhcmRMaWtlOiAoY2FyZEluc3RhbmNlKSA9PiB7XG4gICAgICBsaWtlQ2FyZChjYXJkSW5zdGFuY2UpO1xuICAgIH0sXG4gICAgbXlVc2VySWQ6IG15VXNlcklkLFxuICB9KTtcbiAgcmV0dXJuIGNhcmQuY3JlYXRlQ2FyZCgpO1xufVxuXG5jb25zdCBjYXJkc0xpc3QgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY2FyZHNMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZChpdGVtKSk7XG4gICAgfSxcbiAgfSxcbiAgY2FyZHNDb250YWluZXJTZWxlY3RvclxuKTtcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VyRGF0YSgpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIGNvbnN0IFt1c2VyRGF0YSwgY2FyZHNEYXRhXSA9IGRhdGE7XG4gICAgbXlVc2VySWQgPSB1c2VyRGF0YS5faWQ7XG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEpO1xuICAgIHVzZXJJbmZvLnNldEF2YXRhcih1c2VyRGF0YSk7XG4gICAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKGNhcmRzRGF0YSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSk7XG5cbi8vIHBvcHVwcyBhbmQgdGhlaXJzIGxpc3RlbmVyc1xuY29uc3QgcG9wdXBGdWxsUGhvdG8gPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBGdWxsUGhvdG9TZWxlY3Rvcik7XG5wb3B1cEZ1bGxQaG90by5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cEVkaXRJbmZvID0gbmV3IFBvcHVwV2l0aEZvcm0oZWRpdEluZm9Qb3B1cFNlbGVjdG9yLCAoaW5wdXREYXRhKSA9PiB7XG4gIHBvcHVwRWRpdEluZm8ucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLnNhdmVVc2VyRGF0YShpbnB1dERhdGEpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oaW5wdXREYXRhKTtcbiAgICAgIHBvcHVwRWRpdEluZm8uY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwRWRpdEluZm8ucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59KTtcblxucG9wdXBFZGl0SW5mby5zZXRFdmVudExpc3RlbmVycygpO1xuZWRpdEluZm9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwRWRpdEluZm8ub3BlbigpO1xuICBjb25zdCBwcm9maWxlRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVEYXRhLm5hbWU7XG4gIGJpb0lucHV0LnZhbHVlID0gcHJvZmlsZURhdGEuYWJvdXQ7XG4gIGVkaXRJbmZvRm9ybVZhbGlkYXRvci5oaWRlRXJyb3IoKTtcbn0pO1xuXG5jb25zdCBwb3B1cEFkZFBsYWNlID0gbmV3IFBvcHVwV2l0aEZvcm0oYWRkUGxhY2VQb3B1cFNlbGVjdG9yLCAoaW5wdXREYXRhKSA9PiB7XG4gIHBvcHVwQWRkUGxhY2UucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmFkZE5ld0NhcmQoaW5wdXREYXRhKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKFxuICAgICAgICBjcmVhdGVDYXJkKHtcbiAgICAgICAgICBuYW1lOiBpbnB1dERhdGEubmFtZSxcbiAgICAgICAgICBsaW5rOiBpbnB1dERhdGEubGluayxcbiAgICAgICAgICBsaWtlczogW10sXG4gICAgICAgICAgb3duZXI6IHsgX2lkOiBteVVzZXJJZCB9LFxuICAgICAgICAgIF9pZDogcmVzdWx0Ll9pZCxcbiAgICAgICAgfSksXG4gICAgICAgIGZhbHNlXG4gICAgICApO1xuICAgICAgcG9wdXBBZGRQbGFjZS5jbG9zZSgpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cEFkZFBsYWNlLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgIH0pO1xufSk7XG5cbnBvcHVwQWRkUGxhY2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbmFkZFBsYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cEFkZFBsYWNlLm9wZW4oKTtcbiAgYWRkUGxhY2VGb3JtRWxlbWVudC5yZXNldCgpO1xuICBhZGRQbGFjZUZvcm1WYWxpZGF0b3IuaGlkZUVycm9yKCk7XG59KTtcblxuY29uc3QgcG9wdXBVcGRhdGVBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgdXBkYXRlQXZhdGFyUG9wdXBTZWxlY3RvcixcbiAgKGlucHV0KSA9PiB7XG4gICAgcG9wdXBVcGRhdGVBdmF0YXIucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGlcbiAgICAgIC51cGRhdGVBdmF0YXIoaW5wdXQpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIHVzZXJJbmZvLnNldEF2YXRhcihyZXN1bHQpO1xuICAgICAgICBwb3B1cFVwZGF0ZUF2YXRhci5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBwb3B1cFVwZGF0ZUF2YXRhci5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pO1xuICB9XG4pO1xuXG5wb3B1cFVwZGF0ZUF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xudXBkYXRlUHJvZmlsZUF2YXRhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBVcGRhdGVBdmF0YXIub3BlbigpO1xufSk7XG5cbmNvbnN0IHBvcHVwRGVsZXRlUGxhY2UgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFxuICBjb25maXJtRGVsZXRpb25Qb3B1cFNlbGVjdG9yXG4pO1xucG9wdXBEZWxldGVQbGFjZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBmb3JtcyB2YWxpZGF0aW9uXG5jb25zdCB1cGRhdGVBdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIHVwZGF0ZUF2YXRhckZvcm1FbGVtZW50XG4pO1xudXBkYXRlQXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGVkaXRJbmZvRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBlZGl0SW5mb0Zvcm1FbGVtZW50XG4pO1xuZWRpdEluZm9Gb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYWRkUGxhY2VGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIGFkZFBsYWNlRm9ybUVsZW1lbnRcbik7XG5hZGRQbGFjZUZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuIl0sIm5hbWVzIjpbInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImVkaXRJbmZvQnV0dG9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiZWRpdEluZm9Gb3JtRWxlbWVudCIsIm5hbWVJbnB1dCIsImJpb0lucHV0IiwiYWRkUGxhY2VCdXR0b24iLCJhZGRQbGFjZUZvcm1FbGVtZW50IiwidXBkYXRlUHJvZmlsZUF2YXRhckJ1dHRvbiIsInVwZGF0ZUF2YXRhckZvcm1FbGVtZW50IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsInJlbW92ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwic29tZSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwidGhpcyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsInJlbmRlcmVkSXRlbXMiLCJpdGVtIiwiZWxlbWVudCIsIm9yZGVyIiwiYXBwZW5kIiwicHJlcGVuZCIsIkNhcmQiLCJkYXRhIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZUNhcmREZWxldGUiLCJoYW5kbGVDYXJkTGlrZSIsIm15VXNlcklkIiwibmFtZSIsImxpbmsiLCJvd25lciIsIl9pZCIsImxpa2VzIiwibGVuZ3RoIiwic3JjIiwiYWx0IiwiaW5uZXJUZXh0Iiwic2V0TGlrZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsInBvcHVwIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJQb3B1cFdpdGhJbWFnZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwicmVzZXQiLCJpc0xvYWRpbmciLCJpbnB1dCIsInZhbHVlIiwiVXNlckluZm8iLCJ1c2VyRGF0YVNlbGVjdG9ycyIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlQmlvU2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyU2VsZWN0b3IiLCJhYm91dCIsIm5ld1VzZXJEYXRhIiwiYXZhdGFyIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJBcGkiLCJvcHRpb25zIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiYmFzZVVybCIsImhlYWRlcnMiLCJmZXRjaCIsInRoZW4iLCJpbnB1dERhdGEiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmREYXRhIiwiY2FyZElkIiwiaW5wdXRMaW5rIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiaGFuZGxlciIsImFwaSIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsImNyZWF0ZUNhcmQiLCJwb3B1cEZ1bGxQaG90byIsIm9wZW4iLCJjYXJkSW5zdGFuY2UiLCJjYXJkIiwicG9wdXBEZWxldGVQbGFjZSIsInNldEZvcm1IYW5kbGVyIiwicmVuZGVyTG9hZGluZyIsImRlbGV0ZUNhcmQiLCJnZXRDYXJkSWQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5IiwiaXNMaWtlZCIsImRpc2xpa2VDYXJkIiwibGlrZUNhcmQiLCJjYXJkc0xpc3QiLCJhZGRJdGVtIiwiYWxsIiwiZ2V0VXNlckRhdGEiLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YSIsImNhcmRzRGF0YSIsInNldFVzZXJJbmZvIiwic2V0QXZhdGFyIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwRWRpdEluZm8iLCJzYXZlVXNlckRhdGEiLCJwcm9maWxlRGF0YSIsImdldFVzZXJJbmZvIiwiZWRpdEluZm9Gb3JtVmFsaWRhdG9yIiwiaGlkZUVycm9yIiwicG9wdXBBZGRQbGFjZSIsImFkZE5ld0NhcmQiLCJyZXN1bHQiLCJhZGRQbGFjZUZvcm1WYWxpZGF0b3IiLCJwb3B1cFVwZGF0ZUF2YXRhciIsInVwZGF0ZUF2YXRhciIsImVuYWJsZVZhbGlkYXRpb24iXSwic291cmNlUm9vdCI6IiJ9